(self.webpackChunkmguelpa_lab_iv_tp_clinica=self.webpackChunkmguelpa_lab_iv_tp_clinica||[]).push([[847],{6536:(t,e,n)=>{"use strict";n.d(e,{e:()=>l});var i=n(1225),o=n(7727),r=n(7368),a=n(5912),s=n(3971),c=n(9985);let l=(()=>{class t{constructor(t,e,n){this.auth=t,this.db=e,this.blob=n}getClinicalRecordsById(t){return this.db.collection("/clinical-records",e=>e.where("appointment.patient.uid","==",t)).valueChanges().pipe((0,o.K)(this.handleError))}getClinicalRecordsBySpecialistId(t,e){return this.db.collection("/clinical-records",n=>n.where("appointment.patient.uid","==",t).where("appointment.specialist.uid","==",e)).valueChanges().pipe((0,o.K)(this.handleError))}getUserData(t){return this.db.collection("users").doc(t).valueChanges().pipe((0,o.K)(this.handleError))}getPatientAppointments(t){return this.db.collection("/appointments",e=>e.where("patient.uid","==",t).where("isTaken","==",!0).orderBy("date","asc")).valueChanges().pipe((0,o.K)(this.handleError))}getAppointments(t){return this.db.collection("/appointments",e=>e.where("patient.uid","==",t)).valueChanges().pipe((0,o.K)(this.handleError))}getAllAppointments(){return this.db.collection("/appointments",t=>t.orderBy("date","asc")).valueChanges().pipe((0,o.K)(this.handleError))}registerPatient(t,e){return new Promise((n,i)=>{this.createUserWithEmailAndPassword(t.credentials).then(i=>{t.profile.claims.uid=i.user.uid;const o=this.setFileName(t.profile.claims.uid,e);this.uploadProfilePictures(o).then(e=>{t.profile.claims.photoUrls=e,this.uploadProfile(t.profile),n(i.user.uid)})})})}createUserWithEmailAndPassword(t){return this.auth.createUserWithEmailAndPassword(t.username,t.password)}setFileName(t,e){let n=0;return e.map(e=>{e.filename=`users/${t}_${Date.now()}_${n}.jpeg`,n++}),e}uploadProfilePictures(t){return this.blob.uploadFiles(t)}uploadProfile(t){return this.db.collection("users").doc(t.claims.uid).set(t).then(t=>{console.log(t)},t=>this.handleError(t))}handleError(t){let e="";return e=t.error instanceof ErrorEvent?`An error ocurred: ${t.error.message}`:`Server returned code: ${t.status}, error message is: ${t.message}`,(0,i._)(e)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a.zQ),r.LFG(s.ST),r.LFG(c.I))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},6847:(t,e,n)=>{"use strict";n.r(e),n.d(e,{SpecialistModule:()=>jt});var i=n(1116),o=n(4051),r=n(7368),a=n(3412),s=n(9812),c=n(6177),l=n(7247),d=n(1462);let p=(()=>{class t{constructor(t,e){this.eleRef=t,this.renderer=e}set appBadge(t){switch(this.renderer.addClass(this.eleRef.nativeElement,"badge"),this.renderer.addClass(this.eleRef.nativeElement,"badge-pill"),t){case"finalized":this.renderer.addClass(this.eleRef.nativeElement,"badge-danger");break;case"taken":this.renderer.addClass(this.eleRef.nativeElement,"badge-primary");break;case"accepted":this.renderer.addClass(this.eleRef.nativeElement,"badge-success");break;case"rejected":this.renderer.addClass(this.eleRef.nativeElement,"badge-warning")}}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.Qsj))},t.\u0275dir=r.lG2({type:t,selectors:[["","appBadge",""]],inputs:{appBadge:"appBadge"}}),t})();var g=n(4546),u=n(3902);function m(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",16),r.NdJ("click",function(){r.CHM(t);const e=r.oxw().$implicit;return r.oxw(2).trigger("accept",e)}),r._UZ(1,"i",17),r.qZA()}}function h(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",18),r.NdJ("click",function(){r.CHM(t);const e=r.oxw().$implicit;return r.oxw(2).trigger("reject",e)}),r._UZ(1,"i",19),r.qZA()}}function f(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",20),r.NdJ("click",function(){r.CHM(t);const e=r.oxw().$implicit;return r.oxw(2).trigger("cancel",e)}),r._UZ(1,"i",21),r.qZA()}}function b(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",22),r.NdJ("click",function(){r.CHM(t);const e=r.oxw().$implicit;return r.oxw(2).trigger("finalize",e)}),r._UZ(1,"i",23),r.qZA()}}function Z(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",24),r.NdJ("click",function(){r.CHM(t);const e=r.oxw().$implicit;return r.oxw(2).trigger("review",e)}),r._UZ(1,"i",25),r.qZA()}}function C(t,e){if(1&t&&(r.TgZ(0,"tr"),r.TgZ(1,"td"),r._uU(2),r.ALo(3,"dateTime"),r.qZA(),r.TgZ(4,"td"),r._uU(5),r.qZA(),r.TgZ(6,"td"),r._uU(7),r.qZA(),r.TgZ(8,"td"),r.TgZ(9,"span",10),r._uU(10),r.ALo(11,"status"),r.qZA(),r.qZA(),r.TgZ(12,"td"),r.YNc(13,m,2,0,"button",11),r.YNc(14,h,2,0,"button",12),r.YNc(15,f,2,0,"button",13),r.YNc(16,b,2,0,"button",14),r.YNc(17,Z,2,0,"button",15),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.xp6(2),r.Oqu(r.lcZ(3,11,t.date)),r.xp6(3),r.AsE("",t.patient.lastname," ",t.patient.firstname,""),r.xp6(2),r.Oqu(t.speciality),r.xp6(2),r.Q6J("appBadge",t.status),r.xp6(1),r.Oqu(r.xi3(11,13,t.status,"patient")),r.xp6(3),r.Q6J("ngIf","taken"===t.status),r.xp6(1),r.Q6J("ngIf","taken"===t.status),r.xp6(1),r.Q6J("ngIf","accepted"===t.status),r.xp6(1),r.Q6J("ngIf","accepted"===t.status),r.xp6(1),r.Q6J("ngIf",t.review)}}function _(t,e){if(1&t&&(r.TgZ(0,"tbody"),r.YNc(1,C,18,16,"tr",9),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Q6J("ngForOf",t.filtered)}}let x=(()=>{class t{constructor(){this.action=new r.vpe,this.appointments=[],this.filtered=[],this.records=[],this._filterTerm=""}get filterTerm(){return this._filterTerm}set filterTerm(t){this._filterTerm=t,this.filtered=this.filterTerm?this.performFilter2(this._filterTerm):this.appointments}ngOnInit(){}performFilter(t){return t=t.toLocaleLowerCase(),this.appointments.filter(e=>-1!==`${e.patient.lastname}`.toLocaleLowerCase().indexOf(t)||-1!==e.speciality.toLocaleLowerCase().indexOf(t))}performFilter2(t){return t=t.toLocaleLowerCase(),this.appointments.filter(e=>{const n=this.records.filter(t=>t.appointment.uid===e.uid).map(t=>t.dynamic),i=[];console.log(this.records),n.map(t=>{t.map(t=>i.push(t))});const o=[];return i.map(e=>{const n=Object.keys(e)[0],i=Object.values(e)[0];-1!==n.toLocaleLowerCase().indexOf(t)&&o.push(n),-1!==i.toLocaleLowerCase().indexOf(t)&&o.push(i),-1!==`${n} ${i}`.toLocaleLowerCase().indexOf(t)&&o.push(n)}),console.log(o),-1!==`${e.patient.lastname} ${e.patient.firstname}`.toLocaleLowerCase().indexOf(t)||-1!==e.speciality.toLocaleLowerCase().indexOf(t)||o.length>0})}trigger(t,e){this.action.emit({action:t,appointment:e})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-specialist-appointments-grid"]],inputs:{appointments:"appointments",filtered:"filtered",records:"records"},outputs:{action:"action"},decls:22,vars:2,consts:[["id","header"],[1,"input-group","mb-1"],["type","text","placeholder","Buscar turnos",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-outline-secondary"],["id","body"],["id","component-wrapper"],["id","person-grid-wrapper"],["id","table-wrapper",1,"layout"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"appBadge"],["title","Aceptar","class","btn btn-success btn-sm","style","margin:2px;",3,"click",4,"ngIf"],["title","Rechazar","class","btn btn-danger btn-sm","style","margin:2px;",3,"click",4,"ngIf"],["title","Cancelar","class","btn btn-danger btn-sm","style","margin:2px;",3,"click",4,"ngIf"],["title","Finalizar","class","btn btn-success btn-sm","style","margin:2px;",3,"click",4,"ngIf"],["title","Comentarios","class","btn btn-warning btn-sm","style","margin:2px;",3,"click",4,"ngIf"],["title","Aceptar",1,"btn","btn-success","btn-sm",2,"margin","2px",3,"click"],[1,"fas","fa-calendar-check"],["title","Rechazar",1,"btn","btn-danger","btn-sm",2,"margin","2px",3,"click"],[1,"fas","fa-hand-paper"],["title","Cancelar",1,"btn","btn-danger","btn-sm",2,"margin","2px",3,"click"],[1,"fas","fa-calendar-times"],["title","Finalizar",1,"btn","btn-success","btn-sm",2,"margin","2px",3,"click"],[1,"fas","fa-hourglass-end"],["title","Comentarios",1,"btn","btn-warning","btn-sm",2,"margin","2px",3,"click"],[1,"fas","fa-comments"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"input",2),r.NdJ("ngModelChange",function(t){return e.filterTerm=t}),r.qZA(),r.TgZ(3,"button",3),r._uU(4,"Buscar"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(5,"div",4),r.TgZ(6,"div",5),r.TgZ(7,"div",6),r.TgZ(8,"div",7),r.TgZ(9,"table"),r.TgZ(10,"thead"),r.TgZ(11,"th"),r._uU(12,"Fecha"),r.qZA(),r.TgZ(13,"th"),r._uU(14,"Paciente"),r.qZA(),r.TgZ(15,"th"),r._uU(16,"Especialidad"),r.qZA(),r.TgZ(17,"th"),r._uU(18,"Estado"),r.qZA(),r.TgZ(19,"th"),r._uU(20,"Acci\xf3n"),r.qZA(),r.qZA(),r.YNc(21,_,2,1,"tbody",8),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(2),r.Q6J("ngModel",e.filterTerm),r.xp6(19),r.Q6J("ngIf",e.filtered&&e.filtered.length))},directives:[d.Fj,d.JJ,d.On,i.O5,i.sg,p],pipes:[g.i,u.s],styles:["#header[_ngcontent-%COMP%]{grid-row:2}#body[_ngcontent-%COMP%], #header[_ngcontent-%COMP%]{grid-column:1;padding:5px}#body[_ngcontent-%COMP%]{grid-row:4}#component-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}#component-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:10px;-webkit-box-shadow:inset 0 0 6px #0000004d}#component-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 6px #00000080}#person-grid-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;overflow:hidden;background-color:#fff;border:2px solid #000;border-radius:8px;padding-right:8px}#person-grid-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%]{font-family:Consolas,Courier,monospace;border-collapse:collapse;width:100%;background-color:#000;border-radius:5px}#person-grid-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{font-family:Comic Sans MS,Comic Sans,cursive;padding:2px;text-align:center;border-collapse:collapse;color:#fff}#person-grid-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:5px;text-align:center}#person-grid-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#fff}#person-grid-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f5f5f5}#person-grid-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:last-child > td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:5px}#person-grid-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:last-child > td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:5px}#person-grid-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:hover{background-color:#fff078}#table-wrapper[_ngcontent-%COMP%]{width:100%;padding:0;box-sizing:initial;border:2px solid #000;border-radius:8px;background-color:#fff}#table-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%]{font-family:Consolas,Courier,monospace;border-collapse:collapse;width:100%;background-color:#000;border-radius:5px}#table-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{font-family:Comic Sans MS,Comic Sans,cursive;padding:2px;text-align:center;border-collapse:collapse;color:#fff}#table-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:5px;text-align:center}#table-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#fff}#table-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f5f5f5}#table-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:last-child > td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:5px}#table-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:last-child > td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:5px}#table-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:hover{background-color:#fff078}.layout[_ngcontent-%COMP%]{border:1px solid #000;border-radius:5px;display:flex;margin:2px;padding:2px}"]}),t})();const v=function(t){return{"is-invalid":t}},M=function(t,e){return{"invalid-feedback":t,"valid-feedback":e}};function A(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",1),r.TgZ(1,"div",2),r.TgZ(2,"div",3),r.TgZ(3,"div",4),r.TgZ(4,"h5",5),r._uU(5,"Rechazar Turno"),r.qZA(),r.TgZ(6,"button",6),r.NdJ("click",function(){return r.CHM(t),r.oxw().reject()}),r.TgZ(7,"span"),r._uU(8,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(9,"div",7),r.TgZ(10,"p"),r._uU(11,"Esta operaci\xf3n rechazar\xe1 el turno de "),r.TgZ(12,"strong"),r._uU(13),r.qZA(),r._uU(14," el d\xeda "),r.TgZ(15,"strong"),r._uU(16),r.qZA(),r._uU(17," a las "),r.TgZ(18,"strong"),r._uU(19),r.ALo(20,"date"),r.qZA(),r._uU(21,", atenci\xf3n en "),r.TgZ(22,"strong"),r._uU(23),r.qZA(),r._uU(24,"."),r.qZA(),r.TgZ(25,"div",8),r.TgZ(26,"textarea",9),r.NdJ("ngModelChange",function(e){return r.CHM(t),r.oxw().comments=e}),r.qZA(),r.TgZ(27,"div",10),r._uU(28," Campo requerido. "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(29,"div",11),r.TgZ(30,"button",12),r.NdJ("click",function(e){return r.CHM(t),r.oxw().confirm(e)}),r._uU(31,"Confirmar"),r.qZA(),r.TgZ(32,"button",13),r.NdJ("click",function(){return r.CHM(t),r.oxw().reject()}),r._uU(33,"Deshacer"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(13),r.AsE("",t.item.patient.firstname," ",t.item.patient.lastname,""),r.xp6(3),r.Oqu(t.toDateString(t.item.date)),r.xp6(3),r.Oqu(r.xi3(20,8,t.item.date,"shortTime")),r.xp6(4),r.Oqu(t.item.speciality),r.xp6(3),r.Q6J("ngClass",r.VKq(11,v,t.isInvalid))("ngModel",t.comments),r.xp6(1),r.Q6J("ngClass",r.WLB(13,M,t.isInvalid,!t.isInvalid))}}function w(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",7),r.TgZ(1,"p"),r._uU(2,"Esta operaci\xf3n dar\xe1 por finalizado el turno de "),r.TgZ(3,"strong"),r._uU(4),r.qZA(),r._uU(5," el d\xeda "),r.TgZ(6,"strong"),r._uU(7),r.qZA(),r._uU(8," a las "),r.TgZ(9,"strong"),r._uU(10),r.ALo(11,"date"),r.qZA(),r._uU(12,", atenci\xf3n en "),r.TgZ(13,"strong"),r._uU(14),r.qZA(),r._uU(15,"."),r.qZA(),r.TgZ(16,"div",8),r.TgZ(17,"textarea",17),r.NdJ("ngModelChange",function(e){return r.CHM(t),r.oxw(2).diagnosis=e}),r.qZA(),r.TgZ(18,"div",10),r._uU(19," Campo requerido. "),r.qZA(),r.qZA(),r.TgZ(20,"div",8),r.TgZ(21,"textarea",18),r.NdJ("ngModelChange",function(e){return r.CHM(t),r.oxw(2).comments=e}),r.qZA(),r.TgZ(22,"div",10),r._uU(23," Campo requerido. "),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=r.oxw(2);r.xp6(4),r.AsE("",t.item.patient.firstname," ",t.item.patient.lastname,""),r.xp6(3),r.Oqu(t.toDateString(t.item.date)),r.xp6(3),r.Oqu(r.xi3(11,11,t.item.date,"shortTime")),r.xp6(4),r.Oqu(t.item.speciality),r.xp6(3),r.Q6J("ngClass",r.VKq(14,v,t.isInvalid))("ngModel",t.diagnosis),r.xp6(1),r.Q6J("ngClass",r.WLB(16,M,t.isInvalid,!t.isInvalid)),r.xp6(3),r.Q6J("ngClass",r.VKq(19,v,t.isInvalid))("ngModel",t.comments),r.xp6(1),r.Q6J("ngClass",r.WLB(21,M,t.isInvalid,!t.isInvalid))}}function O(t,e){if(1&t&&(r.TgZ(0,"div",29),r.TgZ(1,"div",30),r.TgZ(2,"div",21),r._UZ(3,"input",31),r.qZA(),r.TgZ(4,"div",21),r._UZ(5,"input",32),r.qZA(),r.qZA(),r.qZA()),2&t){const t=e.index,n=r.oxw(3);r.xp6(1),r.Q6J("formGroupName",t),r.xp6(2),r.Q6J("ngClass",r.VKq(3,v,"INVALID"===n.clinicalRecord.get("dynamic").controls[t].controls.key.status&&n.clinicalRecord.get("dynamic").controls[t].controls.key.touched)),r.xp6(2),r.Q6J("ngClass",r.VKq(5,v,"INVALID"===n.clinicalRecord.get("dynamic").controls[t].controls.value.status&&n.clinicalRecord.get("dynamic").controls[t].controls.value.touched))}}function P(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",33),r.NdJ("click",function(){return r.CHM(t),r.oxw(3).addField()}),r._uU(1,"Agregar campo"),r.qZA()}}function q(t,e){if(1&t&&(r.TgZ(0,"div",7),r.TgZ(1,"p"),r._uU(2,"Historial Cl\xednico | "),r.TgZ(3,"strong"),r._uU(4),r.qZA(),r.qZA(),r.TgZ(5,"div",8),r.TgZ(6,"form",19),r.TgZ(7,"div",20),r.TgZ(8,"div",21),r._UZ(9,"input",22),r.qZA(),r.TgZ(10,"div",21),r._UZ(11,"input",23),r.qZA(),r.qZA(),r.TgZ(12,"div",20),r.TgZ(13,"div",21),r._UZ(14,"input",24),r.qZA(),r.TgZ(15,"div",21),r._UZ(16,"input",25),r.qZA(),r.qZA(),r.YNc(17,O,6,7,"div",26),r.YNc(18,P,2,0,"button",27),r._UZ(19,"br"),r.TgZ(20,"small",28),r._uU(21),r.qZA(),r._UZ(22,"br"),r.qZA(),r.qZA(),r.qZA()),2&t){const t=r.oxw(2);r.xp6(4),r.AsE("",t.item.patient.firstname," ",t.item.patient.lastname,""),r.xp6(2),r.Q6J("formGroup",t.clinicalRecord),r.xp6(3),r.Q6J("ngClass",r.VKq(10,v,"INVALID"===t.clinicalRecord.get("height").status&&t.clinicalRecord.get("height").touched)),r.xp6(2),r.Q6J("ngClass",r.VKq(12,v,"INVALID"===t.clinicalRecord.get("weight").status&&t.clinicalRecord.get("weight").touched)),r.xp6(3),r.Q6J("ngClass",r.VKq(14,v,"INVALID"===t.clinicalRecord.get("temperature").status&&t.clinicalRecord.get("temperature").touched)),r.xp6(2),r.Q6J("ngClass",r.VKq(16,v,"INVALID"===t.clinicalRecord.get("pressure").status&&t.clinicalRecord.get("pressure").touched)),r.xp6(1),r.Q6J("ngForOf",t.dynamicFields.controls),r.xp6(1),r.Q6J("ngIf",t.dynamicFields.length<3),r.xp6(3),r.hij("Campos disponibles (",3-t.dynamicFields.length,")")}}function T(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",12),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).history()}),r._uU(1,"Historia Cl\xednica"),r.qZA()}}function y(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",34),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).back()}),r._uU(1,"Volver"),r.qZA()}}function k(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",12),r.NdJ("click",function(e){return r.CHM(t),r.oxw(2).confirm(e)}),r._uU(1,"Confirmar"),r.qZA()}}function U(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",1),r.TgZ(1,"div",2),r.TgZ(2,"div",3),r.TgZ(3,"div",4),r.TgZ(4,"h5",5),r._uU(5,"Finalizar Turno"),r.qZA(),r.TgZ(6,"button",6),r.NdJ("click",function(){return r.CHM(t),r.oxw().reject()}),r.TgZ(7,"span"),r._uU(8,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.YNc(9,w,24,24,"div",14),r.YNc(10,q,23,18,"div",14),r.TgZ(11,"div",11),r.YNc(12,T,2,0,"button",15),r.YNc(13,y,2,0,"button",16),r.YNc(14,k,2,0,"button",15),r.TgZ(15,"button",13),r.NdJ("click",function(){return r.CHM(t),r.oxw().reject()}),r._uU(16,"Deshacer"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(9),r.Q6J("ngIf",1===t.finalizeStep),r.xp6(1),r.Q6J("ngIf",2===t.finalizeStep),r.xp6(2),r.Q6J("ngIf",1===t.finalizeStep),r.xp6(1),r.Q6J("ngIf",2===t.finalizeStep&&"finalize"===t.mode),r.xp6(1),r.Q6J("ngIf",2===t.finalizeStep||"finalize"!==t.mode)}}function I(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",1),r.TgZ(1,"div",2),r.TgZ(2,"div",3),r.TgZ(3,"div",4),r.TgZ(4,"h5",5),r._uU(5,"Cancelaci\xf3n de turno"),r.qZA(),r.TgZ(6,"button",6),r.NdJ("click",function(){return r.CHM(t),r.oxw().reject()}),r.TgZ(7,"span"),r._uU(8,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(9,"div",7),r.TgZ(10,"p"),r._uU(11,"Esta operaci\xf3n cancelar\xe1 el turno de "),r.TgZ(12,"strong"),r._uU(13),r.qZA(),r._uU(14," el d\xeda "),r.TgZ(15,"strong"),r._uU(16),r.qZA(),r._uU(17," a las "),r.TgZ(18,"strong"),r._uU(19),r.ALo(20,"date"),r.qZA(),r._uU(21,", atenci\xf3n en "),r.TgZ(22,"strong"),r._uU(23),r.qZA(),r._uU(24,"."),r.qZA(),r.TgZ(25,"div",8),r.TgZ(26,"textarea",35),r.NdJ("ngModelChange",function(e){return r.CHM(t),r.oxw().comments=e}),r.qZA(),r.TgZ(27,"div",10),r._uU(28," Campo requerido. "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(29,"div",11),r.TgZ(30,"button",12),r.NdJ("click",function(e){return r.CHM(t),r.oxw().confirm(e)}),r._uU(31,"Confirmar"),r.qZA(),r.TgZ(32,"button",13),r.NdJ("click",function(){return r.CHM(t),r.oxw().reject()}),r._uU(33,"Deshacer"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(13),r.AsE("",t.item.patient.firstname," ",t.item.patient.lastname,""),r.xp6(3),r.Oqu(t.toDateString(t.item.date)),r.xp6(3),r.Oqu(r.xi3(20,8,t.item.date,"shortTime")),r.xp6(4),r.Oqu(t.item.speciality),r.xp6(3),r.Q6J("ngClass",r.VKq(11,v,t.isInvalid))("ngModel",t.comments),r.xp6(1),r.Q6J("ngClass",r.WLB(13,M,t.isInvalid,!t.isInvalid))}}function J(t,e){if(1&t&&(r.TgZ(0,"div"),r.TgZ(1,"label",37),r._uU(2,"Diagn\xf3stico"),r.qZA(),r.TgZ(3,"div",8),r.TgZ(4,"textarea",38),r._uU(5),r.qZA(),r.qZA(),r.qZA()),2&t){const t=r.oxw(2);r.xp6(5),r.Oqu(t.item.diagnosis)}}function N(t,e){if(1&t&&(r.TgZ(0,"div"),r.TgZ(1,"label",37),r._uU(2,"Comentarios"),r.qZA(),r.TgZ(3,"div",8),r.TgZ(4,"textarea",38),r._uU(5),r.qZA(),r.qZA(),r.qZA()),2&t){const t=r.oxw(2);r.xp6(5),r.Oqu(t.item.review)}}const L=function(t){return{active:t}};function D(t,e){if(1&t&&(r.TgZ(0,"div"),r.TgZ(1,"label",37),r._uU(2,"Calificaci\xf3n del paciente"),r.qZA(),r.TgZ(3,"div",39),r.TgZ(4,"div",40),r.TgZ(5,"div",10),r._UZ(6,"i",41),r.qZA(),r.TgZ(7,"div",10),r._UZ(8,"i",42),r.qZA(),r.TgZ(9,"div",10),r._UZ(10,"i",43),r.qZA(),r.TgZ(11,"div",10),r._UZ(12,"i",44),r.qZA(),r.TgZ(13,"div",10),r._UZ(14,"i",45),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t){const t=r.oxw(2);r.xp6(5),r.Q6J("ngClass",r.VKq(5,L,5===t.item.rating)),r.xp6(2),r.Q6J("ngClass",r.VKq(7,L,4===t.item.rating)),r.xp6(2),r.Q6J("ngClass",r.VKq(9,L,3===t.item.rating)),r.xp6(2),r.Q6J("ngClass",r.VKq(11,L,2===t.item.rating)),r.xp6(2),r.Q6J("ngClass",r.VKq(13,L,1===t.item.rating))}}function Q(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",1),r.TgZ(1,"div",2),r.TgZ(2,"div",3),r.TgZ(3,"div",4),r.TgZ(4,"h5",5),r._uU(5,"Rese\xf1a del turno"),r.qZA(),r.TgZ(6,"button",6),r.NdJ("click",function(){return r.CHM(t),r.oxw().reject()}),r.TgZ(7,"span"),r._uU(8,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(9,"div",7),r.YNc(10,J,6,1,"div",36),r.YNc(11,N,6,1,"div",36),r.YNc(12,D,15,15,"div",36),r.qZA(),r.TgZ(13,"div",11),r.TgZ(14,"button",12),r.NdJ("click",function(e){return r.CHM(t),r.oxw().confirm(e)}),r._uU(15,"Confirmar"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(10),r.Q6J("ngIf",t.item.diagnosis),r.xp6(1),r.Q6J("ngIf",t.item.review),r.xp6(1),r.Q6J("ngIf",t.item.rating)}}let S=(()=>{class t{constructor(t){this.fb=t,this.days=["Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado","Domingo"],this.months=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],this.isInvalid=!1,this.response=new r.vpe,this.finalizeStep=1,this.fieldName="",this.fildValue="",this._class=""}get dynamicFields(){var t;return null===(t=this.clinicalRecord)||void 0===t?void 0:t.get("dynamic")}ngOnInit(){this.clinicalRecord=this.initForm()}initForm(){return this.fb.group({height:["",d.kI.required],weight:["",d.kI.required],pressure:["",d.kI.required],temperature:["",d.kI.required],dynamic:this.fb.array([])})}history(){this.comments&&this.diagnosis?1!==this.finalizeStep||(this.finalizeStep=2):this.isInvalid=!0}back(){this.finalizeStep=1}addField(){this.dynamicFields.push(this.fb.group({key:["",d.kI.required],value:["",d.kI.required]}))}confirm(t){if("reject"===this.mode||"cancel"===this.mode){if(!this.comments)return void(this.isInvalid=!0);this.isInvalid=!1,this.response.emit({from:this.mode,succeed:!0,data:this.comments})}if("review"===this.mode&&this.reject(),"finalize"===this.mode){if(!this.comments||!this.diagnosis)return void(this.isInvalid=!0);if(1===this.finalizeStep)return void(this.finalizeStep=2);if(this.clinicalRecord.markAllAsTouched(),this.isInvalid=!1,"VALID"===this.clinicalRecord.status){const t=[];this.clinicalRecord.get("dynamic").controls.map(e=>{t.push(JSON.parse(`{"${e.controls.key.value.replace(" ","_")}":"${e.controls.value.value}"}`))}),this.response.emit({from:this.mode,succeed:!0,data:{comments:this.comments,diagnosis:this.diagnosis,clinicalRecord:{height:this.clinicalRecord.get("height").value,weight:this.clinicalRecord.get("weight").value,temperature:this.clinicalRecord.get("temperature").value,pressure:this.clinicalRecord.get("pressure").value,dynamic:t}}})}}}reject(){this.response.emit({from:this.mode,succeed:!1,data:"cancel"})}toDateString(t){return`${this.days[t.getDay()]} ${t.getDate()} de ${this.months[t.getMonth()]} del ${t.getFullYear()}`}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(d.qu))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-specialist-appointment-modal"]],inputs:{mode:"mode",item:"item"},outputs:{response:"response"},decls:4,vars:4,consts:[["id","modal","tabindex","-1","role","dialog","class","modal fade show","style","display: block;",4,"ngIf"],["id","modal","tabindex","-1","role","dialog",1,"modal","fade","show",2,"display","block"],["role","document",1,"modal-dialog",2,"top","100px"],[1,"modal-content"],[1,"modal-header",2,"background-color","rgb(237, 237, 237)","color","rgb(89, 88, 88)"],["id","exampleModalLabel",1,"modal-title"],["type","button",1,"close",3,"click"],[1,"modal-body"],[1,"form-group"],["cols","30","rows","3","placeholder","Motivo por el cual se rechaza el turno.",1,"form-control",3,"ngClass","ngModel","ngModelChange"],[3,"ngClass"],[1,"modal-footer"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"],["class","modal-body",4,"ngIf"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],["type","button","class","btn btn-dark",3,"click",4,"ngIf"],["cols","30","rows","3","placeholder","Diagn\xf3stico del paciente.",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["cols","30","rows","3","placeholder","Otros comentarios.",1,"form-control",3,"ngClass","ngModel","ngModelChange"],[3,"formGroup"],[1,"row"],[1,"form-group","col-md-6"],["type","number","formControlName","height","placeholder","Altura",1,"form-control",3,"ngClass"],["type","number","formControlName","weight","placeholder","Peso",1,"form-control",3,"ngClass"],["type","number","formControlName","temperature","placeholder","Temperatura",1,"form-control",3,"ngClass"],["type","number","formControlName","pressure","placeholder","Presi\xf3n",1,"form-control",3,"ngClass"],["formArrayName","dynamic",4,"ngFor","ngForOf"],["class","btn btn-primary btn-sm",3,"click",4,"ngIf"],[1,"mt-3",2,"font-weight","medium"],["formArrayName","dynamic"],[1,"row",3,"formGroupName"],["type","text","placeholder","clave","formControlName","key",1,"form-control",3,"ngClass"],["type","text","placeholder","valor","formControlName","value",1,"form-control",3,"ngClass"],[1,"btn","btn-primary","btn-sm",3,"click"],["type","button",1,"btn","btn-dark",3,"click"],["cols","30","rows","3","placeholder","Motivo de la cancelaci\xf3n del turno.",1,"form-control",3,"ngClass","ngModel","ngModelChange"],[4,"ngIf"],["for",""],["disabled","",1,"form-control"],[1,"form-group","mt-3"],[2,"display","flex","justify-content","space-evenly","align-items","center"],[1,"far","fa-laugh-beam","fa-3x","hoverable"],[1,"far","fa-smile-beam","fa-3x","hoverable"],[1,"far","fa-meh","fa-3x","hoverable"],[1,"far","fa-frown","fa-3x","hoverable"],[1,"far","fa-angry","fa-3x","hoverable"]],template:function(t,e){1&t&&(r.YNc(0,A,34,16,"div",0),r.YNc(1,U,17,5,"div",0),r.YNc(2,I,34,16,"div",0),r.YNc(3,Q,16,3,"div",0)),2&t&&(r.Q6J("ngIf","reject"===e.mode),r.xp6(1),r.Q6J("ngIf","finalize"===e.mode),r.xp6(1),r.Q6J("ngIf","cancel"===e.mode),r.xp6(1),r.Q6J("ngIf","review"===e.mode))},directives:[i.O5,d.Fj,i.mk,d.JJ,d.On,d._Y,d.JL,d.sg,d.wV,d.u,i.sg,d.CE,d.x0],pipes:[i.uU],styles:[".hoverable[_ngcontent-%COMP%]:hover{color:#06f}.active[_ngcontent-%COMP%]{color:#06f!important}","#modal[_ngcontent-%COMP%] {\n        background-color: rgba(30, 30, 30, .5);\n    }"]}),t})();function F(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"app-specialist-appointment-modal",9),r.NdJ("response",function(e){return r.CHM(t),r.oxw().onModalResponse(e)}),r.qZA()}if(2&t){const t=r.oxw();r.Q6J("item",t.selectedAppointment)("mode",t.modalMode)}}let E=(()=>{class t{constructor(t,e,n,i){this.authService=t,this.specService=e,this.appoService=n,this.clinService=i,this.appointments=[],this.showModal=!1,this.records=[]}ngOnInit(){this.currentUser=this.authService.getCurrentUserCredentials(),this.specService.getSpecialistAppointments(this.currentUser.uid).subscribe({next:t=>{t.map(t=>t.date=new Date(1e3*t.date.seconds)),this.appointments=t}}),this.clinService.getClinicalRecords().subscribe(t=>{this.records=t})}trigger(t){switch(t.action){case"accept":this.accept(t.appointment);break;case"reject":this.reject(t.appointment);break;case"finalize":this.finalize(t.appointment);break;case"cancel":this.cancel(t.appointment);break;case"review":this.review(t.appointment)}}accept(t){"taken"===t.status&&(t.status="accepted",this.appoService.updateAppointment(t))}reject(t){this.selectedAppointment=t,this.modalMode="reject",this.showModal=!0}finalize(t){this.selectedAppointment=t,this.modalMode="finalize",this.showModal=!0}cancel(t){this.selectedAppointment=t,this.modalMode="cancel",this.showModal=!0}review(t){this.selectedAppointment=t,this.modalMode="review",this.showModal=!0}onModalResponse(t){switch(t.from){case"reject":t.succeed&&(this.selectedAppointment.status="rejected",this.selectedAppointment.review=t.data,this.appoService.updateAppointment(this.selectedAppointment)),this.showModal=!1;break;case"finalize":t.succeed&&(this.selectedAppointment.status="finalized",this.selectedAppointment.review=t.data.comments,this.selectedAppointment.diagnosis=t.data.diagnosis,this.clinService.addClinicalRecord({uid:"",appointment:this.selectedAppointment,height:t.data.clinicalRecord.height,weight:t.data.clinicalRecord.weight,temperature:t.data.clinicalRecord.temperature,pressure:t.data.clinicalRecord.pressure,dynamic:t.data.clinicalRecord.dynamic}),this.appoService.updateAppointment(this.selectedAppointment)),this.showModal=!1;break;case"cancel":t.succeed&&(this.selectedAppointment.status="cancelled",this.selectedAppointment.review=t.data,this.appoService.updateAppointment(this.selectedAppointment)),this.showModal=!1;break;case"review":this.showModal=!1}}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(a.$),r.Y36(s.Z),r.Y36(c.H),r.Y36(l.c))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-specialist-agenda"]],decls:11,vars:4,consts:[["id","header",1,"display-5"],["id","tab-container"],["id","tab-header"],["id","tab",1,"nav","nav-tabs"],[1,"nav-link","active"],["id","tab-body",1,"tab-content"],[1,"tab_container"],[3,"appointments","records","filtered","action"],[3,"item","mode","response",4,"ngIf"],[3,"item","mode","response"]],template:function(t,e){1&t&&(r.TgZ(0,"h2",0),r._uU(1,"Agenda de Turnos - Clinica OMED"),r.qZA(),r.TgZ(2,"div",1),r.TgZ(3,"nav",2),r.TgZ(4,"div",3),r.TgZ(5,"button",4),r._uU(6,"Turnos"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div",5),r.TgZ(8,"div",6),r.TgZ(9,"app-specialist-appointments-grid",7),r.NdJ("action",function(t){return e.trigger(t)}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.YNc(10,F,1,2,"app-specialist-appointment-modal",8)),2&t&&(r.xp6(9),r.Q6J("appointments",e.appointments)("records",e.records)("filtered",e.appointments),r.xp6(1),r.Q6J("ngIf",e.showModal))},directives:[x,i.O5,S],styles:["[_nghost-%COMP%]{display:grid;grid-template-rows:100px 600px auto;grid-template-columns:auto 800px auto}#header[_ngcontent-%COMP%]{grid-row:1;grid-column:2;margin:auto}#tab-container[_ngcontent-%COMP%]{grid-row:2;grid-column:2;height:100%}.tab_container[_ngcontent-%COMP%]{border-left:1px solid #dee2e6;border-right:1px solid #dee2e6;border-bottom:1px solid #dee2e6;border-bottom-left-radius:5px;border-bottom-right-radius:5px;padding:15px;height:100%}"]}),t})();function R(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"tr"),r.TgZ(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r._uU(6),r.qZA(),r.TgZ(7,"td"),r._UZ(8,"img",10),r.qZA(),r.TgZ(9,"td"),r._UZ(10,"img",10),r.qZA(),r.TgZ(11,"td"),r.TgZ(12,"button",11),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw(2).openClinicalRecord(e)}),r._UZ(13,"i",12),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(2),r.Oqu(t.firstname),r.xp6(2),r.Oqu(t.lastname),r.xp6(2),r.Oqu(t.username),r.xp6(2),r.s9C("src",t.photoUrls[0],r.LSH),r.xp6(2),r.s9C("src",t.photoUrls[1],r.LSH)}}function V(t,e){if(1&t&&(r.TgZ(0,"tbody"),r.YNc(1,R,14,5,"tr",9),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Q6J("ngForOf",t.filtered)}}let Y=(()=>{class t{constructor(){this.showModal=!1,this.clinicalRecordSelected=new r.vpe,this.array=[],this.filtered=[],this._filterTerm=""}get filterTerm(){return this._filterTerm}set filterTerm(t){this._filterTerm=t,this.filtered=this.filterTerm?this.performFilter(this._filterTerm):this.array}ngOnInit(){}performFilter(t){return t=t.toLocaleLowerCase(),this.array.filter(e=>-1!==e.firstname.toLocaleLowerCase().indexOf(t)||-1!==e.lastname.toLocaleLowerCase().indexOf(t)||-1!==e.username.toLocaleLowerCase().indexOf(t))}openClinicalRecord(t){this.clinicalRecordSelected.emit(t),this.showModal=!0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-specialist-patients-grid"]],inputs:{array:"array",filtered:"filtered"},outputs:{clinicalRecordSelected:"clinicalRecordSelected"},decls:24,vars:2,consts:[["id","header"],[1,"input-group","mb-1"],["type","text","placeholder","Buscar turnos",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-outline-secondary"],["id","body"],["id","component-wrapper"],["id","person-grid-wrapper"],["id","table-wrapper",1,"layout"],[4,"ngIf"],[4,"ngFor","ngForOf"],["alt","","height","50px",3,"src"],[1,"btn","btn-outline-primary",3,"click"],[1,"fas","fa-book-medical"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"input",2),r.NdJ("ngModelChange",function(t){return e.filterTerm=t}),r.qZA(),r.TgZ(3,"button",3),r._uU(4,"Buscar"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(5,"div",4),r.TgZ(6,"div",5),r.TgZ(7,"div",6),r.TgZ(8,"div",7),r.TgZ(9,"table"),r.TgZ(10,"thead"),r.TgZ(11,"th"),r._uU(12,"Nombre"),r.qZA(),r.TgZ(13,"th"),r._uU(14,"Apellido"),r.qZA(),r.TgZ(15,"th"),r._uU(16,"Email"),r.qZA(),r.TgZ(17,"th"),r._uU(18,"Foto 1"),r.qZA(),r.TgZ(19,"th"),r._uU(20,"Foto 2"),r.qZA(),r.TgZ(21,"th"),r._uU(22,"Historial"),r.qZA(),r.qZA(),r.YNc(23,V,2,1,"tbody",8),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(2),r.Q6J("ngModel",e.filterTerm),r.xp6(21),r.Q6J("ngIf",e.filtered&&e.filtered.length))},directives:[d.Fj,d.JJ,d.On,i.O5,i.sg],styles:["#header[_ngcontent-%COMP%]{grid-row:2}#body[_ngcontent-%COMP%], #header[_ngcontent-%COMP%]{grid-column:1;padding:5px}#body[_ngcontent-%COMP%]{grid-row:4}#component-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}#component-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:10px;-webkit-box-shadow:inset 0 0 6px #0000004d}#component-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 6px #00000080}#person-grid-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;overflow:hidden;background-color:#fff;border:2px solid #000;border-radius:8px;padding-right:8px}#person-grid-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%]{font-family:Consolas,Courier,monospace;border-collapse:collapse;width:100%;background-color:#000;border-radius:5px}#person-grid-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{font-family:Comic Sans MS,Comic Sans,cursive;padding:2px;text-align:center;border-collapse:collapse;color:#fff}#person-grid-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:5px;text-align:center}#person-grid-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#fff}#person-grid-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f5f5f5}#person-grid-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:last-child > td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:5px}#person-grid-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:last-child > td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:5px}#person-grid-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:hover{background-color:#fff078}#table-wrapper[_ngcontent-%COMP%]{width:100%;padding:0;box-sizing:initial;border:2px solid #000;border-radius:8px;background-color:#fff}#table-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%]{font-family:Consolas,Courier,monospace;border-collapse:collapse;width:100%;background-color:#000;border-radius:5px}#table-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{font-family:Comic Sans MS,Comic Sans,cursive;padding:2px;text-align:center;border-collapse:collapse;color:#fff}#table-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:5px;text-align:center}#table-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#fff}#table-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f5f5f5}#table-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:last-child > td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:5px}#table-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:last-child > td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:5px}#table-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:hover{background-color:#fff078}.layout[_ngcontent-%COMP%]{border:1px solid #000;border-radius:5px;display:flex;margin:2px;padding:2px}"]}),t})();var j=n(6536),H=n(5014);function $(t,e){if(1&t&&(r.TgZ(0,"div",5),r.TgZ(1,"span",6),r._uU(2),r.ALo(3,"customDate"),r.qZA(),r.qZA()),2&t){const t=r.oxw();r.xp6(2),r.Oqu(r.lcZ(3,1,t.clinicalRecords[t.index].appointment.date))}}function z(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",7),r.NdJ("click",function(){return r.CHM(t),r.oxw().previous()}),r._UZ(1,"i",8),r.qZA()}}function B(t,e){if(1&t&&(r.TgZ(0,"label"),r._uU(1),r._UZ(2,"input",18),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.hij("",t.key," "),r.xp6(1),r.s9C("value",t.value)}}function G(t,e){if(1&t&&(r.TgZ(0,"div",16),r.YNc(1,B,3,2,"label",17),r.ALo(2,"keyvalue"),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.Q6J("ngForOf",r.lcZ(2,1,t))}}function W(t,e){if(1&t&&(r.TgZ(0,"div",9),r.TgZ(1,"div",10),r.TgZ(2,"div",11),r.TgZ(3,"div",12),r.TgZ(4,"label"),r._uU(5,"Altura"),r.qZA(),r._UZ(6,"input",13),r.qZA(),r.TgZ(7,"div",12),r.TgZ(8,"label"),r._uU(9,"Peso"),r.qZA(),r._UZ(10,"input",14),r.qZA(),r.TgZ(11,"div",12),r.TgZ(12,"label"),r._uU(13,"Temp."),r.qZA(),r._UZ(14,"input",14),r.qZA(),r.TgZ(15,"div",12),r.TgZ(16,"label"),r._uU(17,"Presi\xf3n"),r.qZA(),r._UZ(18,"input",14),r.qZA(),r.qZA(),r.TgZ(19,"div",11),r.YNc(20,G,3,3,"div",15),r.qZA(),r.qZA(),r.qZA()),2&t){const t=r.oxw();r.xp6(6),r.s9C("value",t.clinicalRecords[t.index].height),r.xp6(4),r.s9C("value",t.clinicalRecords[t.index].weight),r.xp6(4),r.s9C("value",t.getValues(t.index,"temperature")),r.xp6(4),r.s9C("value",t.getValues(t.index,"pressure")),r.xp6(2),r.Q6J("ngForOf",t.getDynamicFields(t.index))}}function K(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",19),r.NdJ("click",function(){return r.CHM(t),r.oxw().next()}),r._UZ(1,"i",20),r.qZA()}}function X(t,e){1&t&&(r.TgZ(0,"div",21),r.TgZ(1,"span"),r._uU(2,"este paciente a\xfan no posee historia cl\xednica."),r.qZA(),r.qZA())}let tt=(()=>{class t{constructor(t){this.patiService=t,this.action=new r.vpe,this.patientId="",this.clinicalRecords=[],this.index=0,this.filtered=[],this._filterTerm=""}get filterTerm(){return this._filterTerm}set filterTerm(t){this._filterTerm=t,this.filtered=this.filterTerm?this.performFilter(this._filterTerm):this.clinicalRecords}ngOnInit(){this.patiService.getClinicalRecordsById(this.patientId).subscribe(t=>{t.map(t=>{t.appointment.date=new Date(1e3*t.appointment.date.seconds)}),this.clinicalRecords=t,this.filtered=this.clinicalRecords})}previous(){this.index>0&&this.index--}next(){this.index+1<this.clinicalRecords.length&&this.index++}performFilter(t){return t=t.toLocaleLowerCase(),this.clinicalRecords.filter(e=>-1!==`${e.patient.lastname}`.toLocaleLowerCase().indexOf(t)||-1!==e.patient.username.toLocaleLowerCase().indexOf(t))}trigger(t,e){this.action.emit({action:t,appointment:e})}getValues(t,e){return this.clinicalRecords[t][e]}getDynamicFields(t){return this.clinicalRecords[t].dynamic}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(j.e))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-specialist-patients-clinical-records"]],inputs:{patientId:"patientId",clinicalRecords:"clinicalRecords",filtered:"filtered"},outputs:{action:"action"},decls:5,vars:5,consts:[["id","header","class","borders",4,"ngIf"],["id","btn_previous","class","borders",3,"click",4,"ngIf"],["id","date-picker","class","borders",4,"ngIf"],["id","btn_next",3,"click",4,"ngIf"],["class","center-align","style","height: 100%; width: 100%; background-color: whitesmoke; color: grey; grid-column: 2 / span 5; grid-row: 2 / span 3; padding:50px;",4,"ngIf"],["id","header",1,"borders"],[1,"title"],["id","btn_previous",1,"borders",3,"click"],[1,"fas","fa-caret-left"],["id","date-picker",1,"borders"],["id","clinical-record-container"],[1,"row","mb-2"],[1,"form-group","col-md-3"],["type","number","disabled","",1,"form-control","form-control-sm",3,"value"],["type","text","disabled","",1,"form-control","form-control-sm",3,"value"],["class","form-group col-md-4",4,"ngFor","ngForOf"],[1,"form-group","col-md-4"],[4,"ngFor","ngForOf"],["type","text","disabled","",1,"form-control","form-control-sm",2,"margin-top","5px",3,"value"],["id","btn_next",3,"click"],[1,"fas","fa-caret-right"],[1,"center-align",2,"height","100%","width","100%","background-color","whitesmoke","color","grey","grid-column","2 / span 5","grid-row","2 / span 3","padding","50px"]],template:function(t,e){1&t&&(r.YNc(0,$,4,3,"div",0),r.YNc(1,z,2,0,"div",1),r.YNc(2,W,21,5,"div",2),r.YNc(3,K,2,0,"div",3),r.YNc(4,X,3,0,"div",4)),2&t&&(r.Q6J("ngIf",e.clinicalRecords.length),r.xp6(1),r.Q6J("ngIf",e.clinicalRecords.length),r.xp6(1),r.Q6J("ngIf",e.clinicalRecords.length),r.xp6(1),r.Q6J("ngIf",e.clinicalRecords.length),r.xp6(1),r.Q6J("ngIf",!e.clinicalRecords.length))},directives:[i.O5,i.sg],pipes:[H.F,i.Nd],styles:["#header[_ngcontent-%COMP%]{grid-row:2}#body[_ngcontent-%COMP%], #header[_ngcontent-%COMP%]{grid-column:1;padding:5px}#body[_ngcontent-%COMP%]{grid-row:4}#component-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}#component-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:10px;-webkit-box-shadow:inset 0 0 6px #0000004d}#component-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 6px #00000080}#person-grid-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;overflow:hidden;background-color:#fff;border:2px solid #000;border-radius:8px;padding-right:8px}#person-grid-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%]{font-family:Consolas,Courier,monospace;border-collapse:collapse;width:100%;background-color:#000;border-radius:5px}#person-grid-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{font-family:Comic Sans MS,Comic Sans,cursive;padding:2px;text-align:center;border-collapse:collapse;color:#fff}#person-grid-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:5px;text-align:center}#person-grid-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#fff}#person-grid-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f5f5f5}#person-grid-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:last-child > td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:5px}#person-grid-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:last-child > td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:5px}#person-grid-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:hover{background-color:#fff078}#table-wrapper[_ngcontent-%COMP%]{width:100%;padding:0;box-sizing:initial;border:2px solid #000;border-radius:8px;background-color:#fff}#table-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%]{font-family:Consolas,Courier,monospace;border-collapse:collapse;width:100%;background-color:#000;border-radius:5px}#table-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{font-family:Comic Sans MS,Comic Sans,cursive;padding:2px;text-align:center;border-collapse:collapse;color:#fff}#table-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:5px;text-align:center}#table-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#fff}#table-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f5f5f5}#table-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:last-child > td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:5px}#table-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:last-child > td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:5px}#table-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:hover{background-color:#fff078}.layout[_ngcontent-%COMP%]{border:1px solid #000;border-radius:5px;display:flex;margin:2px;padding:2px}","[_nghost-%COMP%] {\n        display: grid;\n        grid-template-columns: 1px 20px 1px auto 1px 20px 1px;\n        grid-template-rows: 1px auto 1px auto 1px;\n        border: 1px solid grey;\n        border-radius: 5px;\n        width: 100%;\n    }\n\n    .borders[_ngcontent-%COMP%] {\n        border: 1px solid grey;\n        border-radius: 5px;\n    }\n\n    #header[_ngcontent-%COMP%] {\n        grid-column: 2 / span 5;\n        grid-row: 2;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n\n    .title[_ngcontent-%COMP%] {\n        font-weight: 300;\n        font-size: larger;\n        line-height: 1.2;\n        margin-top: auto;\n        margin-bottom: auto;\n    }\n\n    #btn_previous[_ngcontent-%COMP%] {\n        grid-column: 2;\n        grid-row: 4;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        border: 1px solid grey;\n        border-radius: 5px;\n    }\n\n    #btn_next[_ngcontent-%COMP%] {\n        grid-column: 6;\n        grid-row: 4;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        border: 1px solid grey;\n        border-radius: 5px;\n    }\n\n    #date-picker[_ngcontent-%COMP%] {\n        grid-column: 4;\n        grid-row: 4;\n        display: flex;\n        flex-direction: column;\n        width: 100%;\n        height: 200px;\n    }\n\n    #row[_ngcontent-%COMP%] {\n        display: flex;\n        flex-direction: row;\n        margin-bottom: 5px;\n        margin-top: 5px;\n    }\n\n    #clinical-record-container[_ngcontent-%COMP%] {\n      max-width: 100%;\n      display: flex;\n      flex-direction: column  ;\n      align-items: center;\n      justify-content: center;\n      padding: 10px;\n    }\n\n    .box[_ngcontent-%COMP%] {\n      padding: 150px;\n      margin: 0 15px 0 15px;\n    }"]}),t})(),et=(()=>{class t{constructor(){this.response=new r.vpe}ngOnInit(){}confirm(t){this.response.emit({succeed:!0,data:"confirm"})}reject(){this.response.emit({succeed:!1,data:"cancel"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-specialist-records-modal"]],inputs:{item:"item"},outputs:{response:"response"},decls:14,vars:3,consts:[["id","modal","tabindex","-1","role","dialog",1,"modal","fade","show",2,"display","block"],["role","document",1,"modal-dialog",2,"top","100px"],[1,"modal-content"],[1,"modal-header",2,"background-color","rgb(237, 237, 237)","color","rgb(89, 88, 88)"],["id","exampleModalLabel",1,"modal-title"],["type","button",1,"close",3,"click"],["id","body",1,"modal-body"],[3,"patientId"],[1,"modal-footer"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"h5",4),r._uU(5),r.qZA(),r.TgZ(6,"button",5),r.NdJ("click",function(){return e.reject()}),r.TgZ(7,"span"),r._uU(8,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(9,"div",6),r._UZ(10,"app-specialist-patients-clinical-records",7),r.qZA(),r.TgZ(11,"div",8),r.TgZ(12,"button",9),r.NdJ("click",function(t){return e.confirm(t)}),r._uU(13,"Aceptar"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(5),r.AsE("Historial Cl\xednico | ",e.item.firstname," ",e.item.lastname,""),r.xp6(5),r.Q6J("patientId",e.item.uid))},directives:[tt],styles:["","#body[_ngcontent-%COMP%] {\n        display: flex;\n        flex-direction: column;\n        flex-shrink: 0;\n    }"]}),t})();function nt(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"app-specialist-records-modal",9),r.NdJ("response",function(e){return r.CHM(t),r.oxw().onModalResponse(e)}),r.qZA()}if(2&t){const t=r.oxw();r.Q6J("item",t.selectedPatient)}}let it=(()=>{class t{constructor(t,e){this.auth=t,this.specService=e,this.specialistPatients=[],this.currentUser=this.auth.getCurrentUserCredentials(),this.showModal=!1}ngOnInit(){this.specService.getSpecialistAppointments(this.currentUser.uid).subscribe(t=>{let e=[];t.map(t=>{e.filter(e=>e.uid==t.patient.uid).length<1&&e.push(t.patient)}),this.specialistPatients=e})}onClinicalRecordSelected(t){this.selectedPatient=t,this.showModal=!0}onModalResponse(t){this.showModal=!1}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(a.$),r.Y36(s.Z))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-specialist-clinical-records"]],decls:11,vars:3,consts:[["id","header",1,"display-5"],["id","tab-container"],["id","tab-header"],["id","tab",1,"nav","nav-tabs"],[1,"nav-link","active"],["id","tab-body",1,"tab-content"],[1,"tab_container"],[3,"array","filtered","clinicalRecordSelected"],[3,"item","response",4,"ngIf"],[3,"item","response"]],template:function(t,e){1&t&&(r.TgZ(0,"h2",0),r._uU(1,"Historial Cl\xednico | Clinica OMED"),r.qZA(),r.TgZ(2,"div",1),r.TgZ(3,"nav",2),r.TgZ(4,"div",3),r.TgZ(5,"button",4),r._uU(6,"Mis Pacientes"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div",5),r.TgZ(8,"div",6),r.TgZ(9,"app-specialist-patients-grid",7),r.NdJ("clinicalRecordSelected",function(t){return e.onClinicalRecordSelected(t)}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.YNc(10,nt,1,1,"app-specialist-records-modal",8)),2&t&&(r.xp6(9),r.Q6J("array",e.specialistPatients)("filtered",e.specialistPatients),r.xp6(1),r.Q6J("ngIf",e.showModal))},directives:[Y,i.O5,et],styles:["[_nghost-%COMP%]{display:grid;grid-template-rows:100px 600px auto;grid-template-columns:auto 800px auto}#header[_ngcontent-%COMP%]{grid-row:1;grid-column:2;margin:auto}#tab-container[_ngcontent-%COMP%]{grid-row:2;grid-column:2;height:100%}.tab_container[_ngcontent-%COMP%]{border-left:1px solid #dee2e6;border-right:1px solid #dee2e6;border-bottom:1px solid #dee2e6;border-bottom-left-radius:5px;border-bottom-right-radius:5px;padding:15px;height:100%}"]}),t})(),ot=(()=>{class t{constructor(t){this.el=t}onMouseEnter(){this.show()}onMouseLeave(){this.hide()}hide(){this.el.nativeElement.children[0].style.visibility="hidden"}show(){this.el.nativeElement.children[0].style.visibility="visible"}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["","appHide",""]],hostBindings:function(t,e){1&t&&r.NdJ("mouseenter",function(){return e.onMouseEnter()})("mouseleave",function(){return e.onMouseLeave()})}}),t})();function rt(t,e){if(1&t&&(r.TgZ(0,"div"),r.TgZ(1,"label",9),r._uU(2,"Diagn\xf3stico"),r.qZA(),r.TgZ(3,"div",10),r.TgZ(4,"textarea",11),r._uU(5),r.qZA(),r.qZA(),r.qZA()),2&t){const t=r.oxw();r.xp6(5),r.Oqu(t.item.diagnosis)}}function at(t,e){if(1&t&&(r.TgZ(0,"div"),r.TgZ(1,"label",9),r._uU(2,"Comentarios"),r.qZA(),r.TgZ(3,"div",10),r.TgZ(4,"textarea",11),r._uU(5),r.qZA(),r.qZA(),r.qZA()),2&t){const t=r.oxw();r.xp6(5),r.Oqu(t.item.review)}}const st=function(t){return{active:t}};function ct(t,e){if(1&t&&(r.TgZ(0,"div"),r.TgZ(1,"label",9),r._uU(2,"Calificaci\xf3n del paciente"),r.qZA(),r.TgZ(3,"div",12),r.TgZ(4,"div",13),r.TgZ(5,"div",14),r._UZ(6,"i",15),r.qZA(),r.TgZ(7,"div",14),r._UZ(8,"i",16),r.qZA(),r.TgZ(9,"div",14),r._UZ(10,"i",17),r.qZA(),r.TgZ(11,"div",14),r._UZ(12,"i",18),r.qZA(),r.TgZ(13,"div",14),r._UZ(14,"i",19),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t){const t=r.oxw();r.xp6(5),r.Q6J("ngClass",r.VKq(5,st,5===t.item.rating)),r.xp6(2),r.Q6J("ngClass",r.VKq(7,st,4===t.item.rating)),r.xp6(2),r.Q6J("ngClass",r.VKq(9,st,3===t.item.rating)),r.xp6(2),r.Q6J("ngClass",r.VKq(11,st,2===t.item.rating)),r.xp6(2),r.Q6J("ngClass",r.VKq(13,st,1===t.item.rating))}}let lt=(()=>{class t{constructor(){this.days=["Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado","Domingo"],this.months=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],this.isInvalid=!1,this.response=new r.vpe,this._class=""}ngOnInit(){console.log(this.item)}confirm(t){if("reject"===this.mode||"cancel"===this.mode){if(!this.comments)return void(this.isInvalid=!0);this.isInvalid=!1,this.response.emit({from:this.mode,succeed:!0,data:this.comments})}alert(this.mode),"review"===this.mode&&this.reject(),"confirm"===this.mode&&this.reject()}reject(){this.response.emit({from:this.mode,succeed:!1,data:"cancel"})}toDateString(t){return`${this.days[t.getDay()]} ${t.getDate()} de ${this.months[t.getMonth()]} del ${t.getFullYear()}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-specialist-patient-review-modal"]],inputs:{mode:"mode",item:"item"},outputs:{response:"response"},decls:15,vars:3,consts:[["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header",2,"background-color","rgb(237, 237, 237)","color","rgb(89, 88, 88)"],["id","exampleModalLabel",1,"modal-title"],["type","button",1,"close",3,"click"],[1,"modal-body"],[4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-danger",3,"click"],["for",""],[1,"form-group"],["disabled","",1,"form-control"],[1,"form-group","mt-3"],[2,"display","flex","justify-content","space-evenly","align-items","center"],[3,"ngClass"],[1,"far","fa-laugh-beam","fa-3x","hoverable"],[1,"far","fa-smile-beam","fa-3x","hoverable"],[1,"far","fa-meh","fa-3x","hoverable"],[1,"far","fa-frown","fa-3x","hoverable"],[1,"far","fa-angry","fa-3x","hoverable"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"h5",3),r._uU(4,"Rese\xf1a del turno"),r.qZA(),r.TgZ(5,"button",4),r.NdJ("click",function(){return e.reject()}),r.TgZ(6,"span"),r._uU(7,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(8,"div",5),r.YNc(9,rt,6,1,"div",6),r.YNc(10,at,6,1,"div",6),r.YNc(11,ct,15,15,"div",6),r.qZA(),r.TgZ(12,"div",7),r.TgZ(13,"button",8),r.NdJ("click",function(){return e.reject()}),r._uU(14,"Confirmar"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(9),r.Q6J("ngIf",e.item.diagnosis),r.xp6(1),r.Q6J("ngIf",e.item.review),r.xp6(1),r.Q6J("ngIf",e.item.rating))},directives:[i.O5,i.mk],styles:[".hoverable[_ngcontent-%COMP%]:hover{color:#06f}.active[_ngcontent-%COMP%]{color:#06f!important}"]}),t})();function dt(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",5),r.TgZ(1,"h2",6),r._uU(2,"Mis Pacientes - Clinica OMED"),r.qZA(),r.TgZ(3,"div",7),r.TgZ(4,"input",8),r.NdJ("ngModelChange",function(e){return r.CHM(t),r.oxw().filterTerm1=e}),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(4),r.Q6J("ngModel",t.filterTerm1)}}function pt(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",5),r.TgZ(1,"h2",6),r._uU(2),r.qZA(),r.TgZ(3,"div",7),r.TgZ(4,"input",9),r.NdJ("ngModelChange",function(e){return r.CHM(t),r.oxw().filterTerm2=e}),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(2),r.AsE("Rese\xf1as | ",null==t.selectedPatient?null:t.selectedPatient.firstname," ",null==t.selectedPatient?null:t.selectedPatient.lastname,""),r.xp6(2),r.Q6J("ngModel",t.filterTerm2)}}function gt(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",12),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw(2).onSelection(e)}),r.TgZ(1,"div"),r.TgZ(2,"div",13),r.TgZ(3,"span",14),r._uU(4),r.qZA(),r.qZA(),r._UZ(5,"div",15),r.qZA(),r.TgZ(6,"div",16),r._UZ(7,"img",17),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(4),r.AsE("",t.firstname," ",t.lastname,""),r.xp6(3),r.s9C("src",t.photoUrls[0],r.LSH)}}function ut(t,e){if(1&t&&(r.TgZ(0,"div",10),r.YNc(1,gt,8,3,"div",11),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Q6J("ngForOf",t.filtered1)}}function mt(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",30),r.NdJ("click",function(){r.CHM(t);const e=r.oxw().$implicit;return r.oxw(3).openReview(e)}),r._UZ(1,"i",31),r.qZA()}}function ht(t,e){1&t&&(r.TgZ(0,"button",32),r._uU(1,"No Tiene"),r.qZA())}function ft(t,e){if(1&t&&(r.TgZ(0,"tr"),r.TgZ(1,"td"),r._uU(2),r.ALo(3,"customDate"),r.qZA(),r.TgZ(4,"td"),r._uU(5),r.qZA(),r.TgZ(6,"td"),r._uU(7),r.qZA(),r.TgZ(8,"td"),r.YNc(9,mt,2,0,"button",28),r.YNc(10,ht,2,0,"button",29),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.xp6(2),r.Oqu(r.lcZ(3,6,t.date)),r.xp6(3),r.AsE("",t.patient.firstname," ",t.patient.lastname," "),r.xp6(2),r.Oqu(t.speciality),r.xp6(2),r.Q6J("ngIf",t.review),r.xp6(1),r.Q6J("ngIf",!t.review)}}function bt(t,e){if(1&t&&(r.TgZ(0,"tbody"),r.YNc(1,ft,11,8,"tr",27),r.qZA()),2&t){const t=r.oxw(2);r.xp6(1),r.Q6J("ngForOf",t.filtered2)}}function Zt(t,e){if(1&t&&(r.TgZ(0,"div",18),r.TgZ(1,"div",19),r.TgZ(2,"div",20),r.TgZ(3,"div",21),r.TgZ(4,"div",22),r.TgZ(5,"div",23),r.TgZ(6,"div",24),r.TgZ(7,"div",25),r.TgZ(8,"table"),r.TgZ(9,"thead"),r.TgZ(10,"th"),r._uU(11,"Fecha"),r.qZA(),r.TgZ(12,"th"),r._uU(13,"Paciente"),r.qZA(),r.TgZ(14,"th"),r._uU(15,"Atenci\xf3n"),r.qZA(),r.TgZ(16,"th"),r._uU(17,"Rese\xf1a"),r.qZA(),r.qZA(),r.YNc(18,bt,2,1,"tbody",26),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t){const t=r.oxw();r.xp6(18),r.Q6J("ngIf",t.filtered2&&t.filtered2.length)}}function Ct(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"app-specialist-patient-review-modal",33),r.NdJ("response",function(e){return r.CHM(t),r.oxw().onModalResponse(e)}),r.qZA()}if(2&t){const t=r.oxw();r.Q6J("item",t.selectedAppointment)}}function _t(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",34),r.NdJ("click",function(){return r.CHM(t),r.oxw().reset()}),r._uU(1,"Volver"),r.qZA()}}let xt=(()=>{class t{constructor(t,e,n){this.specService=t,this.auth=e,this.patiService=n,this.array=[],this.filtered2=[],this._filterTerm2="",this.filtered1=[],this._filterTerm1="",this.currentUser=this.auth.getCurrentUserCredentials(),this.specialistPatients=[],this.showModal=!1,this.patientAppointments=[]}get filterTerm2(){return this._filterTerm2}set filterTerm2(t){this._filterTerm2=t,this.filtered2=this.filterTerm2?this.performFilter2(this._filterTerm2):this.patientAppointments}get filterTerm1(){return this._filterTerm1}set filterTerm1(t){this._filterTerm1=t,this.filtered1=this.filterTerm1?this.performFilter1(this._filterTerm1):this.specialistPatients}reset(){this.selectedPatient=null,this.patientAppointments=[],this.showModal=!1}ngOnInit(){this.specService.getSpecialistAppointments(this.currentUser.uid).subscribe(t=>{let e=[];t.map(t=>{e.filter(e=>e.uid==t.patient.uid).length<1&&e.push(t.patient)}),this.specialistPatients=e,this.filtered1=e})}onSelection(t){this.selectedPatient=t,this.patiService.getPatientAppointments(this.selectedPatient.uid).subscribe(t=>{t.map(t=>t.date=new Date(1e3*t.date.seconds)),this.patientAppointments=t.filter(t=>t.specialist.uid===this.currentUser.uid),this.filtered2=this.patientAppointments})}onClinicalRecordSelected(t){this.selectedPatient=t,this.showModal=!0}onModalResponse(t){this.showModal=!1}performFilter1(t){return t=t.toLocaleLowerCase(),this.specialistPatients.filter(e=>-1!==e.firstname.toLocaleLowerCase().indexOf(t)||-1!==e.lastname.toLocaleLowerCase().indexOf(t)||-1!==e.username.toLocaleLowerCase().indexOf(t))}performFilter2(t){return t=t.toLocaleLowerCase(),this.patientAppointments.filter(e=>-1!==e.patient.firstname.toLocaleLowerCase().indexOf(t)||-1!==e.patient.lastname.toLocaleLowerCase().indexOf(t)||-1!==e.speciality.toLocaleLowerCase().indexOf(t))}openReview(t){this.selectedAppointment=t,this.showModal=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(s.Z),r.Y36(a.$),r.Y36(j.e))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-specialist-patients"]],inputs:{array:"array",filtered2:"filtered2",filtered1:"filtered1"},decls:6,vars:6,consts:[["id","header",4,"ngIf"],["id","desk",4,"ngIf"],["id","desk","style","justify-content: center; align-items:center",4,"ngIf"],[3,"item","response",4,"ngIf"],["class","btn btn-outline-info","style","position:absolute; float:left; bottom:30px; left:30px;",3,"click",4,"ngIf"],["id","header"],[1,"display-5"],[1,"input-group","mb-1"],["id","filter","type","text","placeholder","Buscar pacientes",1,"form-control",3,"ngModel","ngModelChange"],["id","filter","type","text","placeholder","Buscar turnos",1,"form-control",3,"ngModel","ngModelChange"],["id","desk"],["id","favcontainer","class","","appHide","",3,"click",4,"ngFor","ngForOf"],["id","favcontainer","appHide","",1,"",3,"click"],[1,"tooltips"],[1,"tooltipstext"],[1,"triangle"],["id","favbutton",1,"image",2,"border-radius","50%"],["alt","","height","100px",2,"border-radius","50%",3,"src"],["id","desk",2,"justify-content","center","align-items","center"],["id","tab-container"],["id","tab-body",1,"tab-content"],[1,"tab_container"],["id","body"],["id","component-wrapper"],["id","person-grid-wrapper"],["id","table-wrapper",1,"layout"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","btn btn-outline-primary",3,"click",4,"ngIf"],["class","btn btn-outline-secondary",4,"ngIf"],[1,"btn","btn-outline-primary",3,"click"],[1,"fas","fa-book-medical"],[1,"btn","btn-outline-secondary"],[3,"item","response"],[1,"btn","btn-outline-info",2,"position","absolute","float","left","bottom","30px","left","30px",3,"click"]],template:function(t,e){1&t&&(r.YNc(0,dt,5,1,"div",0),r.YNc(1,pt,5,3,"div",0),r.YNc(2,ut,2,1,"div",1),r.YNc(3,Zt,19,1,"div",2),r.YNc(4,Ct,1,1,"app-specialist-patient-review-modal",3),r.YNc(5,_t,2,0,"button",4)),2&t&&(r.Q6J("ngIf",!e.selectedPatient),r.xp6(1),r.Q6J("ngIf",e.selectedPatient),r.xp6(1),r.Q6J("ngIf",!e.selectedPatient),r.xp6(1),r.Q6J("ngIf",e.selectedPatient),r.xp6(1),r.Q6J("ngIf",e.showModal),r.xp6(1),r.Q6J("ngIf",e.selectedPatient))},directives:[i.O5,d.Fj,d.JJ,d.On,i.sg,ot,lt],pipes:[H.F],styles:["#header[_ngcontent-%COMP%]{grid-row:2}#body[_ngcontent-%COMP%], #header[_ngcontent-%COMP%]{grid-column:1;padding:5px}#body[_ngcontent-%COMP%]{grid-row:4}#component-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}#component-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:10px;-webkit-box-shadow:inset 0 0 6px #0000004d}#component-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 6px #00000080}#person-grid-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;overflow:hidden;background-color:#fff;border:2px solid #000;border-radius:8px;padding-right:8px}#person-grid-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%]{font-family:Consolas,Courier,monospace;border-collapse:collapse;width:100%;background-color:#000;border-radius:5px}#person-grid-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{font-family:Comic Sans MS,Comic Sans,cursive;padding:2px;text-align:center;border-collapse:collapse;color:#fff}#person-grid-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:5px;text-align:center}#person-grid-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#fff}#person-grid-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f5f5f5}#person-grid-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:last-child > td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:5px}#person-grid-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:last-child > td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:5px}#person-grid-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:hover{background-color:#fff078}#table-wrapper[_ngcontent-%COMP%]{width:100%;padding:0;box-sizing:initial;border:2px solid #000;border-radius:8px;background-color:#fff}#table-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%]{font-family:Consolas,Courier,monospace;border-collapse:collapse;width:100%;background-color:#000;border-radius:5px}#table-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{font-family:Comic Sans MS,Comic Sans,cursive;padding:2px;text-align:center;border-collapse:collapse;color:#fff}#table-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:5px;text-align:center}#table-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#fff}#table-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f5f5f5}#table-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:last-child > td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:5px}#table-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:last-child > td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:5px}#table-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:hover{background-color:#fff078}.layout[_ngcontent-%COMP%]{border:1px solid #000;border-radius:5px;display:flex;margin:2px;padding:2px}",'[_nghost-%COMP%] {\n        display: grid;\n        grid-template-rows: 160px auto;\n        grid-template-columns: auto;\n        height: 100%;\n    }\n\n    #header[_ngcontent-%COMP%] {\n        grid-row: 1;\n        grid-column: 1;\n        margin: auto;\n    }\n\n    #tab-container[_ngcontent-%COMP%] {\n        grid-row: 2;\n        grid-column: 2;\n        height: 100%;\n    }\n\n    .tab_container[_ngcontent-%COMP%] {\n        border-bottom-left-radius: 5px;\n        border-bottom-right-radius: 5px;\n        padding: 15px;\n        height: 100%;\n    }\n\n    #specialist-card[_ngcontent-%COMP%] {\n        grid-column: 2;\n        grid-row: 2;\n    }\n\n    #favbutton[_ngcontent-%COMP%] {\n        margin: 15px;\n        margin-bottom: auto !important;\n        display: flex;\n        flex-direction: column;\n\n        justify-content: center;\n        align-items: center;\n        flex-wrap: wrap;\n\n    }\n\n    #favbutton[_ngcontent-%COMP%]:hover {\n        margin: 10px;\n        border: 5px solid rgba(23, 223, 230, 0.2);\n        box-shadow: 0 0 3px 3px rgb(23 223 230 / 15%);\n\n    }\n\n    #desk[_ngcontent-%COMP%] {\n        grid-column: 1;\n        grid-row: 2;\n        display: flex;\n    }\n\n    #favcontainer[_ngcontent-%COMP%] {\n        height: 180px;\n        width: 180px;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: space-around;\n    }\n\n    #favcontainer[_ngcontent-%COMP%]:hover   .buttons[_ngcontent-%COMP%] {\n        visibility: visible !important;\n        transition: opacity 0.3s;\n\n    }\n\n    #favcontainer[_ngcontent-%COMP%]:hover   .tooltips[_ngcontent-%COMP%] {\n        visibility: visible !important;\n        transition: opacity 0.3s;\n\n    }\n\n    #favcontainer[_ngcontent-%COMP%]:hover   .triangle[_ngcontent-%COMP%] {\n        visibility: visible !important;\n        transition: opacity 0.3s;\n\n    }\n\n    .tooltips[_ngcontent-%COMP%] {\n        visibility: hidden;\n        background-color: #555;\n        color: #fff;\n        text-align: center;\n        font-family: var(--bs-font-sans-serif);\n        font-style: normal;\n        font-weight: 400;\n        line-height: 1.5;\n        border-radius: 6px;\n        padding: 5px;\n        transition: opacity 0.3s;\n    }\n\n    .tooltips[_ngcontent-%COMP%]::after {\n        content: "";\n        position: absolute;\n        top: 100%;\n        left: 50%;\n        margin-left: -5px;\n        border-width: 5px;\n        border-style: solid;\n        border-color: #555 transparent transparent transparent;\n    }\n\n    .triangle[_ngcontent-%COMP%] {\n        visibility: hidden;\n        margin: auto;\n        width: 0;\n        height: 0;\n        border: 10px solid transparent;\n        border-top: 10px solid red;\n        border-bottom: 0;\n        border-color: #555 transparent transparent transparent;\n    }\n\n\n    app-specialist-patient-review-modal[_ngcontent-%COMP%] {\n        grid-column: 1;\n        grid-row: 1 / span 2;\n    }\n\n    \n    #fiter[_ngcontent-%COMP%] {\n        display: block;\n        width: 100%;\n        \n        margin-bottom: 0;\n        line-height: 1.5;\n        color: white;\n        background-color: transparent !important;\n        border: solid transparent;\n        border-width: 1px 0;\n        padding-right: 1rem;\n        padding-left: auto;\n    }\n\n    input[_ngcontent-%COMP%] {\n        text-align: center;\n        background-color: transparent !important;\n        border: solid transparent;\n        color: grey;\n        width: 85%;\n        border-bottom: 1px solid transparent;\n    }\n\n    input[_ngcontent-%COMP%]:hover {\n        outline: none;\n        border-bottom: 1px solid rgba(128, 128, 128, .3);\n    }\n\n    input[_ngcontent-%COMP%]:focus {\n        outline: none;\n    }\n\n    [_ngcontent-%COMP%]::-webkit-input-placeholder {\n        text-align: center;\n    }\n\n    [_ngcontent-%COMP%]:-moz-placeholder {\n        text-align: center;\n    }']}),t})();var vt=n(5680);let Mt=(()=>{class t{constructor(t,e){this.eleRef=t,this.renderer=e}set appPillEnable(t){const e=new Date(Date.now());let n=t.appointment.date<e;if("available"!==t.appointment.status||t.appointment.speciality!==t.speciality||n||(this.eleRef.nativeElement.classList=[],this.renderer.addClass(this.eleRef.nativeElement,"pill"),this.renderer.addClass(this.eleRef.nativeElement,"available")),"taken"!==t.appointment.status||t.appointment.speciality!==t.speciality||n||(this.eleRef.nativeElement.classList=[],this.renderer.addClass(this.eleRef.nativeElement,"pill"),this.renderer.addClass(this.eleRef.nativeElement,"taken")),t.appointment.speciality&&t.appointment.speciality!==t.speciality&&!n&&(this.eleRef.nativeElement.classList=[],this.renderer.addClass(this.eleRef.nativeElement,"pill"),this.renderer.addClass(this.eleRef.nativeElement,"expired")),n&&(this.eleRef.nativeElement.classList=[],this.renderer.addClass(this.eleRef.nativeElement,"pill"),this.renderer.addClass(this.eleRef.nativeElement,"expired")),6===t.appointment.date.getDay()){let e=new Date(t.appointment.date);e.setHours(14,0,0),t.appointment.date>e&&(this.eleRef.nativeElement.classList=[],this.renderer.addClass(this.eleRef.nativeElement,"pill"),this.renderer.addClass(this.eleRef.nativeElement,"not-available"))}}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.Qsj))},t.\u0275dir=r.lG2({type:t,selectors:[["","appPillEnable",""]],inputs:{appPillEnable:"appPillEnable"}}),t})();const At=function(t,e){return{appointment:t,speciality:e}};function wt(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",12),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw(2).onSelection(e)}),r._uU(1),r.ALo(2,"date"),r.qZA()}if(2&t){const t=e.$implicit,n=r.oxw(2);r.MGl("id","pill_",t.date.getTime(),""),r.Q6J("appPillEnable",r.WLB(6,At,t,n.speciality)),r.xp6(1),r.hij(" ",r.xi3(2,3,t.date.getTime(),"shortTime")," ")}}const Ot=function(t){return{"current-day":t}};function Pt(t,e){if(1&t&&(r.TgZ(0,"div",8),r.TgZ(1,"div",9),r._uU(2),r.TgZ(3,"span"),r._uU(4),r.qZA(),r.qZA(),r.TgZ(5,"div",10),r.YNc(6,wt,3,9,"div",11),r.qZA(),r.qZA()),2&t){const t=e.$implicit,n=r.oxw();r.Q6J("ngClass",r.VKq(4,Ot,n.isCurrentDay(t))),r.xp6(2),r.hij(" ",n.getDay(t),""),r.xp6(2),r.Oqu(n.getDate(t)),r.xp6(2),r.Q6J("ngForOf",t)}}let qt=(()=>{class t{constructor(t,e){this.ap=t,this.auth=e,this.months=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],this.days=["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"],this.hours=["08:00hs","09:00hs","10:00hs","11:00hs","12:00hs","13:00hs","14:00hs","15:00hs","16:00hs","17:00hs","18:00hs","19:00hs"],this.week=[],this.datePicker=new vt.M,this.appointments=new Array,this.pageNumber=0,this.dbAppointments=[],this.speciality=""}get page(){return this.pageNumber}ngOnInit(){this.currentUser=this.auth.getCurrentUserCredentials(),this.ap.getSpecialistAppointments(this.currentUser.uid).subscribe({next:t=>{t.map(t=>t.date=new Date(1e3*t.date.seconds)),this.dbAppointments=t,this.week=this.datePicker.goto(this.page),this.merge(t,this.week)},error:t=>console.log(t)})}merge(t,e){e.map((n,i,o)=>{this.appointments[i]=[],this.hours.map((o,r,a)=>{n.setHours(r+8,0,0);let s=t.filter(t=>t.date.toUTCString()===n.toUTCString())[0];if(s)this.appointments[i][r]=s;else{let t=new Date(e[i]);t.setHours(r+8,0,0),this.appointments[i][r]={uid:"",date:t,isActive:!0,isTaken:!1,patient:null,specialist:null,isCancelled:!1,status:"",speciality:"",review:null,diagnosis:"",survey:null}}})})}nextWeek(){this.pageNumber++,this.week=this.datePicker.goto(this.page),this.merge(this.dbAppointments,this.week)}previousWeek(){this.week[0]>this.datePicker.currentWeek[0]&&(this.pageNumber--,this.week=this.datePicker.goto(this.page),this.merge(this.dbAppointments,this.week))}getDay(t){return this.days[t[0].date.getDay()]}getHours(t){let e=[];for(let n=8;n<20;n++){let i=new Date(t);i.setHours(n,0,0),e.push(i)}return e}getDate(t){return t[0].date.getDate()}getMonth(){var t;return this.months[null===(t=this.week[0])||void 0===t?void 0:t.getMonth()]}getClass(t){let e=[];const n=new Date(Date.now());if("available"===t.status&&t.speciality===this.speciality&&e.push("available"),t.patient&&this.speciality===t.speciality&&e.push("taken"),("available"===t.status||t.patient&&t.speciality!==this.speciality)&&e.push("expired"),t.date<n&&e.push("expired"),6===t.date.getDay()){let n=new Date(t.date);n.setHours(14,0,0),t.date>n&&e.push("not-available")}return e.join(" ")}isCurrentDay(t){const e=new Date(Date.now());return t[0].date.toDateString()==e.toDateString()}onSelection(t){var e;const n=null===(e=document.getElementById(`pill_${t.date.getTime()}`))||void 0===e?void 0:e.classList;(null==n?void 0:n.contains("available"))&&!t.isTaken&&this.ap.delteAppointment(t.uid),(null==n?void 0:n.contains("available"))||(null==n?void 0:n.contains("taken"))||(null==n?void 0:n.contains("expired"))||(t.speciality=this.speciality,t.specialist=this.currentUser,t.status="available",this.ap.addAvailability(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(c.H),r.Y36(a.$))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-week-scheduler"]],inputs:{speciality:"speciality"},decls:9,vars:2,consts:[["id","header",1,"borders"],[1,"title"],["id","btn_previous",1,"borders",3,"click"],[1,"fas","fa-caret-left"],["id","date-picker",1,"borders"],["id","row",3,"ngClass",4,"ngFor","ngForOf"],["id","btn_next",3,"click"],[1,"fas","fa-caret-right"],["id","row",3,"ngClass"],["id","day",1,"center-align"],["id","pill-container"],["class","pill",3,"id","appPillEnable","click",4,"ngFor","ngForOf"],[1,"pill",3,"id","appPillEnable","click"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"span",1),r._uU(2),r.qZA(),r.qZA(),r.TgZ(3,"div",2),r.NdJ("click",function(){return e.previousWeek()}),r._UZ(4,"i",3),r.qZA(),r.TgZ(5,"div",4),r.YNc(6,Pt,7,6,"div",5),r.qZA(),r.TgZ(7,"div",6),r.NdJ("click",function(){return e.nextWeek()}),r._UZ(8,"i",7),r.qZA()),2&t&&(r.xp6(2),r.Oqu(e.getMonth()),r.xp6(4),r.Q6J("ngForOf",e.appointments))},directives:[i.sg,i.mk,Mt],pipes:[i.uU],styles:["","[_nghost-%COMP%] {\n        display: grid;\n        grid-template-columns: 1px 20px 1px auto 1px 20px 1px;\n        grid-template-rows: 1px auto 1px auto 1px;\n        border: 1px solid grey;\n        border-radius: 5px;\n    }\n\n    .borders[_ngcontent-%COMP%] {\n        border: 1px solid grey;\n        border-radius: 5px;\n    }\n\n    #header[_ngcontent-%COMP%] {\n        grid-column: 2 / span 5;\n        grid-row: 2;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n\n    .title[_ngcontent-%COMP%] {\n        font-weight: 300;\n        font-size: larger;\n        line-height: 1.2;\n        margin-top: auto;\n        margin-bottom: auto;\n    }\n\n    #btn_previous[_ngcontent-%COMP%] {\n        grid-column: 2;\n        grid-row: 4;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        border: 1px solid grey;\n        border-radius: 5px;\n    }\n\n    #btn_next[_ngcontent-%COMP%] {\n        grid-column: 6;\n        grid-row: 4;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        border: 1px solid grey;\n        border-radius: 5px;\n    }\n\n    #date-picker[_ngcontent-%COMP%] {\n        grid-column: 4;\n        grid-row: 4;\n        display: flex;\n        flex-direction: column;\n    }\n\n    #row[_ngcontent-%COMP%] {\n        display: flex;\n        flex-direction: row;\n        margin-bottom: 5px;\n        margin-top: 5px;\n    }\n\n    #pill-container[_ngcontent-%COMP%] {\n        display: inline-flex;\n        flex-direction: row;\n        justify-content: space-around;\n        align-items: center;\n        width: 100%;\n        width:100%; \n        justify-content: space-evenly;\n    }\n\n    .pill-disabled[_ngcontent-%COMP%] {\n        background-color: grey;\n        color: #f5f5f5;\n    }\n\n    .pill[_ngcontent-%COMP%]:hover {\n        transform: translate(-1px, -1px);\n        box-shadow: 2px 2px rgba(30, 30, 30, 0.2);\n    }\n\n    .current-day[_ngcontent-%COMP%] {\n        background-color: rgba(111, 190, 208, 0.2);\n        border-radius: 5px;\n    }\n\n    .pill-enabled[_ngcontent-%COMP%] {\n        background-color: #9acd32;\n    }\n\n    #day[_ngcontent-%COMP%] {\n        width: 115px;\n        justify-content: space-between;\n        padding: 0 5px 0 5px;\n    }\n\n    .pill[_ngcontent-%COMP%] {\n        display: inline-flex;\n        justify-content: center;\n        align-items: center;\n        font-size: x-small;\n        padding: 1px;\n        width: 48px;\n        border: 1px solid #1e1e1e;\n        border-radius: 5px;\n    }\n\n\n    .expired[_ngcontent-%COMP%] {\n        background-color: grey;\n    }\n\n    .available[_ngcontent-%COMP%] {\n        background-color: #9acd32;\n    }\n\n    .taken[_ngcontent-%COMP%] {\n        background-color: red;\n    }\n\n    .not-available[_ngcontent-%COMP%] {\n        visibility: hidden;\n    }"]}),t})();function Tt(t,e){if(1&t&&(r.TgZ(0,"option",26),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.Q6J("ngValue",t),r.xp6(1),r.Oqu(t)}}function yt(t,e){if(1&t&&(r.TgZ(0,"div",27),r._UZ(1,"app-week-scheduler",28),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Q6J("speciality",t.speciality)}}let kt=(()=>{class t{constructor(t,e){this.auth=t,this.specialist=e,this.enabled=!1}ngOnInit(){this.user=this.auth.getCurrentUserCredentials(),this.specialist.getUserData(this.user.uid).subscribe(t=>{this.userData=t})}getUserSpecialities(){return this.user.roles.filter(t=>"admin"!==t&&"specialist"!==t&&"patient"!==t&&"user"!==t)}enableScheduler(){this.enabled=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(a.$),r.Y36(s.Z))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-specialist-profile"]],decls:58,vars:13,consts:[["id","container",1,"container"],[1,"main-body",2,"padding-top","30px"],[1,"row","gutters-sm"],[1,"col-md-4","mb-3"],[1,"card"],[1,"card-body"],[1,"d-flex","flex-column","align-items-center","text-center"],["alt","Admin","width","150",1,"rounded-circle",3,"src"],[1,"mt-3"],[1,"text-secondary","mb-1"],[1,"col-md-8"],[1,"card","mb-3"],[1,"row"],[1,"col-sm-3"],[1,"mb-0"],[1,"col-sm-9","text-secondary"],[1,"col-sm-12"],["target","__blank","href","#",1,"btn","btn-info"],["id","week-scheduler",1,"card","h-100"],["id","div-title"],[1,"title"],["id","div-select"],[1,"form-select","form-select-sm",3,"ngModel","ngModelChange","change"],["selected","","hidden","","disabled","",3,"value"],[3,"ngValue",4,"ngFor","ngForOf"],["id","div-scheduler",4,"ngIf"],[3,"ngValue"],["id","div-scheduler"],[3,"speciality"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"div",4),r.TgZ(5,"div",5),r.TgZ(6,"div",6),r._UZ(7,"img",7),r.TgZ(8,"div",8),r.TgZ(9,"h4"),r._uU(10),r.qZA(),r.TgZ(11,"p",9),r._uU(12),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(13,"div",10),r.TgZ(14,"div",11),r.TgZ(15,"div",5),r.TgZ(16,"div",12),r.TgZ(17,"div",13),r.TgZ(18,"h6",14),r._uU(19,"Nombre"),r.qZA(),r.qZA(),r.TgZ(20,"div",15),r._uU(21),r.qZA(),r.qZA(),r._UZ(22,"hr"),r.TgZ(23,"div",12),r.TgZ(24,"div",13),r.TgZ(25,"h6",14),r._uU(26,"Email"),r.qZA(),r.qZA(),r.TgZ(27,"div",15),r._uU(28),r.qZA(),r.qZA(),r._UZ(29,"hr"),r.TgZ(30,"div",12),r.TgZ(31,"div",13),r.TgZ(32,"h6",14),r._uU(33,"DNI"),r.qZA(),r.qZA(),r.TgZ(34,"div",15),r._uU(35),r.qZA(),r.qZA(),r._UZ(36,"hr"),r.TgZ(37,"div",12),r.TgZ(38,"div",13),r.TgZ(39,"h6",14),r._uU(40,"Edad"),r.qZA(),r.qZA(),r.TgZ(41,"div",15),r._uU(42),r.qZA(),r.qZA(),r._UZ(43,"hr"),r.TgZ(44,"div",12),r.TgZ(45,"div",16),r.TgZ(46,"a",17),r._uU(47,"Editar"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(48,"div",18),r.TgZ(49,"div",19),r.TgZ(50,"p",20),r._uU(51,"Disponibilidad Horaria"),r.qZA(),r.qZA(),r.TgZ(52,"div",21),r.TgZ(53,"select",22),r.NdJ("ngModelChange",function(t){return e.speciality=t})("change",function(){return e.enableScheduler()}),r.TgZ(54,"option",23),r._uU(55,"Seleccione una especialidad"),r.qZA(),r.YNc(56,Tt,2,2,"option",24),r.qZA(),r.qZA(),r.YNc(57,yt,2,1,"div",25),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(7),r.s9C("src",e.user.photoUrls[0],r.LSH),r.xp6(3),r.AsE("",e.user.firstname," ",e.user.lastname,""),r.xp6(2),r.hij("Especialista en ",e.userData.data.speciality,""),r.xp6(9),r.AsE(" ",e.user.firstname," ",e.user.lastname," "),r.xp6(7),r.hij(" ",e.user.username," "),r.xp6(7),r.hij(" ",e.userData.data.dni," "),r.xp6(7),r.hij(" ",e.userData.data.age," "),r.xp6(11),r.Q6J("ngModel",e.speciality),r.xp6(1),r.Q6J("value",e.speciality),r.xp6(2),r.Q6J("ngForOf",e.getUserSpecialities()),r.xp6(1),r.Q6J("ngIf",e.enabled))},directives:[d.EJ,d.JJ,d.On,d.YN,d.Kr,i.sg,i.O5,qt],styles:["table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:center;padding:5px}table[_ngcontent-%COMP%]{margin-bottom:15px}#container[_ngcontent-%COMP%]{width:825px}.container[_ngcontent-%COMP%]{width:825px!important}@media (min-width:768px){.container[_ngcontent-%COMP%], .container-md[_ngcontent-%COMP%], .container-sm[_ngcontent-%COMP%]{max-width:825px!important}}#week-scheduler[_ngcontent-%COMP%]{padding:5px;display:grid;grid-template-columns:5px 2fr 5px 2fr 5px;grid-template-rows:5px auto 5px auto 5px}#div-title[_ngcontent-%COMP%]{display:flex;width:100%;grid-column:2;grid-row:2;padding:5px}.title[_ngcontent-%COMP%]{font-weight:300;font-size:large;line-height:1.2;margin-top:auto;margin-bottom:auto}#div-select[_ngcontent-%COMP%]{display:flex;width:100%;grid-column:4;grid-row:2}#div-scheduler[_ngcontent-%COMP%], #div-select[_ngcontent-%COMP%]{align-items:center;justify-content:center;padding:5px}#div-scheduler[_ngcontent-%COMP%]{display:block;height:100%;grid-column:2/span 3;grid-row:4}"]}),t})();var Ut=n(7701),It=n(108),Jt=n(4054),Nt=n(6004),Lt=n(8406);const Dt=function(t){return{"invalid-feedback":t}};function Qt(t,e){if(1&t&&(r.TgZ(0,"div",8),r._uU(1," Debe pasar la validacion del captcha. "),r.qZA()),2&t){const t=r.oxw();r.Q6J("ngClass",r.VKq(1,Dt,t.submitted&&!t.isValidCaptcha))}}const St=function(t,e){return{"is-invalid":t,"is-valid":e}},Ft=function(t,e){return{"invalid-feedback":t,"valid-feedback":e}};let Et=(()=>{class t{constructor(t,e,n,i,o,r){this.fb=t,this.pv=e,this.ss=n,this.ms=i,this._loading=o,this.router=r,this.isValidCaptcha=!1,this.submitted=!1,this.prompt=!1,this.subscriptions=[],this.controlNames=["firstname","lastname","dni","age","speciality","photo01","username","passwordGroup","passwordGroup.password","passwordGroup.confirm"],this.pictures=[],this.states={firstname:{message:"",class:""},lastname:{message:"",class:""},dni:{message:"",class:""},age:{message:"",class:""},username:{message:"",class:""},password:{message:"",class:""},confirm:{message:"",class:""},obrasocial:{message:"",class:""},speciality:{message:"",class:""},passwordGroup:{message:"",class:""},photo01:{message:"",class:""}}}setMessage(t,e){if(this.pv.clearState(this.states,e),t.errors&&(t.touched||t.dirty)){let n=Object.keys(t.errors)[0];this.pv.setState(this.states,e,this.pv.getState(n))}t.errors||!t.touched&&!t.dirty||this.pv.setState(this.states,e,this.pv.getState("succeeded"))}ngOnInit(){this.form=this.initForm(),this.watchForm(...this.controlNames)}captchaValidation(t){this.isValidCaptcha=t}initForm(){return this.fb.group({uid:[""],firstname:["",[d.kI.required,this.pv.validateNames]],lastname:["",[d.kI.required,this.pv.validateNames]],age:["",[d.kI.required,d.kI.min(0),d.kI.max(105),this.pv.validateAge]],username:["",[d.kI.required,d.kI.email]],passwordGroup:new d.cw({password:new d.NI("",[d.kI.required,d.kI.pattern(/^(?=[^a-zA-Z]*[a-zA-Z])(?=\D*\d).{8,}$/)]),confirm:new d.NI("")},this.pv.passwordCheck),dni:["",[d.kI.required,this.pv.validateDNI]],speciality:["",[d.kI.required]],photo01:["",[d.kI.required,this.pv.validateFileExtension]]})}watchForm(...t){t.map(t=>{const e=this.form.get(t);if(null!==e){const n=e.valueChanges.pipe((0,Ut.b)(1e3)).subscribe(()=>{this.setMessage(e,t)});this.subscriptions.push(n)}})}check(t){const e=this.form.get(t);if(e.errors&&(e.touched||e.dirty))return e.errors}submit(){if(this.submitted=!0,this.controlNames.map(t=>{const e=this.form.get(t);e.markAllAsTouched(),this.setMessage(e,t)}),"VALID"===this.form.status&&this.isValidCaptcha){const t={credentials:{username:this.form.get("username").value,password:this.form.get("passwordGroup.password").value},profile:{claims:{uid:"",username:this.form.get("username").value,firstname:this.form.get("firstname").value,lastname:this.form.get("lastname").value,roles:["user","specialist",this.form.get("speciality").value],photoUrls:[],isActiveUser:!1},data:{firstname:this.form.get("firstname").value,lastname:this.form.get("lastname").value,age:this.form.get("age").value,dni:this.form.get("dni").value,speciality:this.form.get("speciality").value}}};this._loading.emitChange(!0),this.ss.registerSpecialist(t,this.pictures).finally(()=>{this._loading.emitChange(!1),alert("Registro exitoso, contacte a un administrador para activar su cuenta."),this.router.navigate(["signin"])})}}onFileSelection01(t){1===t.target.files.length&&this.pictures.push({filename:t.target.files[0].name,stream:t.target.files[0],contentType:"image/jpeg"})}onFileSelection02(t){1===t.target.files.length&&this.pictures.push({filename:t.target.files[0].name,stream:t.target.files[0],contentType:"image/jpeg"})}auto(){var t,e,n;null===(t=this.form.get("username"))||void 0===t||t.patchValue(`test_${Date.now()}@user.com`),null===(e=this.form.get("passwordGroup.password"))||void 0===e||e.patchValue("123456Q!"),null===(n=this.form.get("passwordGroup.confirm"))||void 0===n||n.patchValue("123456Q!"),this.form.get("firstname").patchValue("John"),this.form.get("lastname").patchValue("Doe"),this.form.get("dni").patchValue("12345678"),this.form.get("age").patchValue("31"),this.form.get("speciality").patchValue("cl\xednica"),this.form.get("photo01").patchValue(""),this.form.markAllAsTouched()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(d.qu),r.Y36(It.n),r.Y36(s.Z),r.Y36(Jt.M),r.Y36(Nt.x),r.Y36(o.F0))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-specialist-registration-form"]],decls:79,vars:83,consts:[["id","frm_patient","novalidate","",1,"needs-validation",3,"formGroup"],[1,"form-group","row"],[1,"col-md-12"],[1,"form-label"],[1,"input-group"],[1,"input-group-text"],[1,"fas","fa-envelope"],["type","text","placeholder","Email","formControlName","username",1,"form-control",3,"ngClass"],[3,"ngClass"],["formGroupName","passwordGroup",1,"form-group","row"],[1,"col-md-6"],[1,"fas","fa-key"],["type","password","placeholder","Clave","formControlName","password",1,"form-control",3,"ngClass"],["type","password","placeholder","Clave","formControlName","confirm",1,"form-control",3,"ngClass"],["type","text","formControlName","firstname",1,"form-control",3,"ngClass"],["type","text","formControlName","lastname",1,"form-control",3,"ngClass"],[1,"col-md-4"],["type","text","formControlName","dni",1,"form-control",3,"ngClass"],["type","text","formControlName","age",1,"form-control",3,"ngClass"],["formControlName","speciality"],["hidden","","type","text","formControlName","speciality",1,"form-control",3,"ngClass"],[1,"col-md-6",2,"display","flex","flex-direction","column"],["id","photo01","type","file","formControlName","photo01",1,"form-control",3,"ngClass","change"],[1,"is-invalid",3,"isValidCaptcha"],[3,"ngClass",4,"ngIf"],["type","submit","value","Registrar",1,"btn","btn-primary",2,"margin-top","10px",3,"click"],[1,"btn","btn-primary",2,"margin","10px 0 0 10px",3,"click"]],template:function(t,e){1&t&&(r.TgZ(0,"form",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"label",3),r._uU(4,"Email"),r.qZA(),r.TgZ(5,"div",4),r.TgZ(6,"span",5),r._UZ(7,"i",6),r.qZA(),r._UZ(8,"input",7),r.TgZ(9,"div",8),r._uU(10),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(11,"div",9),r.TgZ(12,"div",10),r.TgZ(13,"label",3),r._uU(14,"Clave"),r.qZA(),r.TgZ(15,"div",4),r.TgZ(16,"span",5),r._UZ(17,"i",11),r.qZA(),r._UZ(18,"input",12),r.TgZ(19,"div",8),r._uU(20),r.qZA(),r.qZA(),r.qZA(),r.TgZ(21,"div",10),r.TgZ(22,"label",3),r._uU(23,"Confirmaci\xf3n de clave"),r.qZA(),r.TgZ(24,"div",4),r.TgZ(25,"span",5),r._UZ(26,"i",11),r.qZA(),r._UZ(27,"input",13),r.TgZ(28,"div",8),r._uU(29),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(30,"div",1),r.TgZ(31,"div",10),r.TgZ(32,"label",3),r._uU(33,"Nombre"),r.qZA(),r._UZ(34,"input",14),r.TgZ(35,"div",8),r._uU(36),r.qZA(),r.qZA(),r.TgZ(37,"div",10),r.TgZ(38,"label",3),r._uU(39,"Apellido"),r.qZA(),r._UZ(40,"input",15),r.TgZ(41,"div",8),r._uU(42),r.qZA(),r.qZA(),r.qZA(),r.TgZ(43,"div",1),r.TgZ(44,"div",16),r.TgZ(45,"label",3),r._uU(46,"DNI"),r.qZA(),r._UZ(47,"input",17),r.TgZ(48,"div",8),r._uU(49),r.qZA(),r.qZA(),r.TgZ(50,"div",16),r.TgZ(51,"label",3),r._uU(52,"Edad"),r.qZA(),r._UZ(53,"input",18),r.TgZ(54,"div",8),r._uU(55),r.qZA(),r.qZA(),r.TgZ(56,"div",16),r.TgZ(57,"label",3),r._uU(58,"Especialidad"),r.qZA(),r._UZ(59,"app-speciality-selector",19),r._UZ(60,"input",20),r.TgZ(61,"div",8),r._uU(62),r.qZA(),r.qZA(),r.qZA(),r.TgZ(63,"div",1),r.TgZ(64,"div",21),r.TgZ(65,"label",3),r._uU(66,"Foto 01:"),r.qZA(),r.TgZ(67,"input",22),r.NdJ("change",function(t){return e.onFileSelection01(t)}),r.qZA(),r.TgZ(68,"div",8),r._uU(69),r.qZA(),r.qZA(),r.qZA(),r.TgZ(70,"div",1),r.TgZ(71,"div",21),r.TgZ(72,"label",3),r._uU(73,"Captcha:"),r.qZA(),r.TgZ(74,"app-custom-captcha",23),r.NdJ("isValidCaptcha",function(t){return e.captchaValidation(t)}),r.qZA(),r.YNc(75,Qt,2,3,"div",24),r.qZA(),r.qZA(),r.TgZ(76,"input",25),r.NdJ("click",function(){return e.submit()}),r.qZA(),r.TgZ(77,"button",26),r.NdJ("click",function(){return e.auto()}),r._uU(78,"Auto"),r.qZA(),r.qZA()),2&t&&(r.Q6J("formGroup",e.form),r.xp6(8),r.Q6J("ngClass",r.WLB(29,St,"INVALID"===e.states.username.class,"VALID"===e.states.username.class)),r.xp6(1),r.Q6J("ngClass",r.WLB(32,Ft,"INVALID"===e.states.username.class,"VALID"===e.states.username.class)),r.xp6(1),r.hij(" ",e.states.username.message," "),r.xp6(8),r.Q6J("ngClass",r.WLB(35,St,"INVALID"===e.states.password.class,"VALID"===e.states.password.class)),r.xp6(1),r.Q6J("ngClass",r.WLB(38,Ft,"INVALID"===e.states.password.class,"VALID"===e.states.password.class)),r.xp6(1),r.hij(" ",e.states.password.message," "),r.xp6(7),r.Q6J("ngClass",r.WLB(41,St,"INVALID"===e.states.passwordGroup.class&&e.form.get("passwordGroup.confirm").dirty,"VALID"===e.states.passwordGroup.class&&e.form.get("passwordGroup.confirm").dirty)),r.xp6(1),r.Q6J("ngClass",r.WLB(44,Ft,"INVALID"===e.states.passwordGroup.class&&e.form.get("passwordGroup.confirm").dirty,"VALID"===e.states.passwordGroup.class&&e.form.get("passwordGroup.confirm").dirty)),r.xp6(1),r.hij(" ",e.form.get("passwordGroup.confirm").dirty?e.states.passwordGroup.message:""," "),r.xp6(5),r.Q6J("ngClass",r.WLB(47,St,"INVALID"===e.states.firstname.class,"VALID"===e.states.firstname.class)),r.xp6(1),r.Q6J("ngClass",r.WLB(50,Ft,"INVALID"===e.states.firstname.class,"VALID"===e.states.firstname.class)),r.xp6(1),r.hij(" ",e.states.firstname.message," "),r.xp6(4),r.Q6J("ngClass",r.WLB(53,St,"INVALID"===e.states.lastname.class,"VALID"===e.states.lastname.class)),r.xp6(1),r.Q6J("ngClass",r.WLB(56,Ft,"INVALID"===e.states.lastname.class,"VALID"===e.states.lastname.class)),r.xp6(1),r.hij(" ",e.states.lastname.message," "),r.xp6(5),r.Q6J("ngClass",r.WLB(59,St,"INVALID"===e.states.dni.class,"VALID"===e.states.dni.class)),r.xp6(1),r.Q6J("ngClass",r.WLB(62,Ft,"INVALID"===e.states.dni.class,"VALID"===e.states.dni.class)),r.xp6(1),r.hij(" ",e.states.dni.message," "),r.xp6(4),r.Q6J("ngClass",r.WLB(65,St,"INVALID"===e.states.age.class,"VALID"===e.states.age.class)),r.xp6(1),r.Q6J("ngClass",r.WLB(68,Ft,"INVALID"===e.states.age.class,"VALID"===e.states.age.class)),r.xp6(1),r.hij(" ",e.states.age.message," "),r.xp6(5),r.Q6J("ngClass",r.WLB(71,St,"INVALID"===e.states.speciality.class,"VALID"===e.states.speciality.class)),r.xp6(1),r.Q6J("ngClass",r.WLB(74,Ft,"INVALID"===e.states.speciality.class,"VALID"===e.states.speciality.class)),r.xp6(1),r.hij(" ",e.states.speciality.message," "),r.xp6(5),r.Q6J("ngClass",r.WLB(77,St,"INVALID"===e.states.photo01.class,"VALID"===e.states.photo01.class)),r.xp6(1),r.Q6J("ngClass",r.WLB(80,Ft,"INVALID"===e.states.photo01.class,"VALID"===e.states.photo01.class)),r.xp6(1),r.hij(" ",e.states.photo01.message," "),r.xp6(6),r.Q6J("ngIf",e.submitted&&!e.isValidCaptcha))},directives:[d._Y,d.JL,d.sg,d.Fj,d.JJ,d.u,i.mk,d.x0,Lt.F,i.O5],styles:["","#frm_patient[_ngcontent-%COMP%] {\n      border: 1px solid rgb(222, 226, 230);\n      border-radius: 5px;\n      padding: 15px;\n    }\n  \n    .row[_ngcontent-%COMP%] {\n      margin-bottom: 20px;\n    }"]}),t})();const Rt=[{path:"clinical-records",component:it},{path:"enrollment",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-specialist-registration"]],decls:4,vars:0,consts:[["id","container"],["id","header"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"h2",1),r._uU(2,"Alta Especialistas - Clinica OMED"),r.qZA(),r._UZ(3,"app-specialist-registration-form"),r.qZA())},directives:[Et],styles:["","[_nghost-%COMP%] {\n        display: grid;\n        grid-template-columns: auto 800px auto;\n        grid-template-rows: 10px 600px auto;\n        \n        height: 100%;\n        padding: 30px;\n    }\n\n    #header[_ngcontent-%COMP%] {\n        grid-row: 1;\n        grid-column: 2;\n        margin:auto;\n        margin-bottom: 30px!important;\n    }\n\n    #container[_ngcontent-%COMP%] {\n        grid-column: 2;\n        grid-row: 2;\n    }"]}),t})(),data:{animation:"SpecialistRegistration"}},{path:"profile",component:kt},{path:"agenda",component:E},{path:"patients",component:xt}];let Vt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[o.Bz.forChild(Rt)],o.Bz]}),t})();var Yt=n(2145);let jt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[i.ez,Vt,d.u5,d.UX,Yt.n]]}),t})()},5014:(t,e,n)=>{"use strict";n.d(e,{F:()=>o});var i=n(7368);let o=(()=>{class t{constructor(){this.months=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],this.days=["Dom","Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b"]}transform(t){const e=null==t?void 0:t.getDay(),n=null==t?void 0:t.getDate(),i=null==t?void 0:t.getMonth();return`${this.days[e]} ${n} de ${this.months[i]} del ${null==t?void 0:t.getFullYear()}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Yjl({name:"customDate",type:t,pure:!0}),t})()}}]);